const e=[{é˜¶æ®µ:1,é˜¶æ®µæ ‡é¢˜:'æŠµæŠ—',ä¾µèš€åº¦èŒƒå›´:[0,19],çº¦æŸ:{æœ€ä½æš´éœ²ç¨‹åº¦:'ä¿å®ˆ',æš´éœ²ç¨‹åº¦èŒƒå›´:['ä¿å®ˆ','æ­£å¸¸'],æœ€ä½å¦†å®¹æµ“åº¦:'ç´ é¢œ',å¦†å®¹æµ“åº¦èŒƒå›´:['ç´ é¢œ','æ·¡å¦†'],å…è®¸ç‰¹æ®Šè£…é¥°:!1,å…è®¸èº«ä½“æ”¹é€ :!1},é»˜è®¤å¤–è§‚:{æœè£…:{å¤´éƒ¨:'æ— ',ä¸Šè£…:'ç±³è‰²é’ˆç»‡å¼€è¡«',ä¸‹è£…:'æ·±ç°è‰²é•¿è£™',å†…è¡£ä¸Š:'è‚¤è‰²æ£‰è´¨æ–‡èƒ¸',å†…è¡£ä¸‹:'æ£‰è´¨å†…è£¤',è¢œè£¤:'è‚‰è‰²ä¸è¢œ',é‹å­:'å®¤å†…æ‹–é‹',å¤–å¥—:'æ— ',é…é¥°:'å©šæˆ’',ç‰¹æ®Šè£…é¥°:'æ— ',æ•´ä½“é£æ ¼:'å±…å®¶è´¤å¦»',æš´éœ²ç¨‹åº¦:'æ­£å¸¸',æ•´æ´åº¦:'æ•´æ´'},å¦†å®¹:{åº•å¦†:'ç´ é¢œæ·¡å¦†',çœ¼å¦†:'æ— ',å”‡å¦†:'æ·¡ç²‰è‰²å”‡å½©',è…®çº¢:'è‡ªç„¶çº¢æ™•',ç‰¹æ®Šå¦†å®¹:'æ— ',æµ“æ·¡ç¨‹åº¦:'æ·¡å¦†',æ•´ä½“é£æ ¼:'æ¸…æ–°è‡ªç„¶'},æ°”è´¨æè¿°:'æ¸©æŸ”è´¤æ·‘çš„å®¶åº­ä¸»å¦‡'},æ—¶é—´ä¿®æ­£ç³»æ•°:1.2},{é˜¶æ®µ:2,é˜¶æ®µæ ‡é¢˜:'åŠ¨æ‘‡',ä¾µèš€åº¦èŒƒå›´:[20,39],çº¦æŸ:{æœ€ä½æš´éœ²ç¨‹åº¦:'æ­£å¸¸',æš´éœ²ç¨‹åº¦èŒƒå›´:['æ­£å¸¸','æ¸…å‡‰'],æœ€ä½å¦†å®¹æµ“åº¦:'æ·¡å¦†',å¦†å®¹æµ“åº¦èŒƒå›´:['æ·¡å¦†','æ—¥å¸¸å¦†'],å…è®¸ç‰¹æ®Šè£…é¥°:!1,å…è®¸èº«ä½“æ”¹é€ :!1},é»˜è®¤å¤–è§‚:{æœè£…:{å¤´éƒ¨:'ç•¥å¸¦å¦©åªšçš„å·å‘',ä¸Šè£…:'Vé¢†é’ˆç»‡è¡«',ä¸‹è£…:'è¿‡è†çŸ­è£™',å†…è¡£ä¸Š:'è•¾ä¸åŠç½©æ¯æ–‡èƒ¸',å†…è¡£ä¸‹:'è•¾ä¸ä¸‰è§’è£¤',è¢œè£¤:'é»‘è‰²ä¸è¢œ',é‹å­:'ä½è·Ÿé‹',å¤–å¥—:'æ— ',é…é¥°:'å©šæˆ’ã€ç®€çº¦é¡¹é“¾',ç‰¹æ®Šè£…é¥°:'æ— ',æ•´ä½“é£æ ¼:'å¼€å§‹æ³¨é‡æ€§æ„Ÿ',æš´éœ²ç¨‹åº¦:'æ¸…å‡‰',æ•´æ´åº¦:'ç•¥æ˜¾å‡Œä¹±'},å¦†å®¹:{åº•å¦†:'å…‰æ³½ç²‰åº•',çœ¼å¦†:'å¤§åœ°è‰²çœ¼å½±ã€çœ¼çº¿',å”‡å¦†:'ç²‰è‰²å”‡å½©',è…®çº¢:'è‡ªç„¶æ¡ƒçº¢',ç‰¹æ®Šå¦†å®¹:'æ— ',æµ“æ·¡ç¨‹åº¦:'æ—¥å¸¸å¦†',æ•´ä½“é£æ ¼:'å¸¦æœ‰å¥³äººå‘³'},æ°”è´¨æè¿°:'æˆç†Ÿå¥³æ€§çš„å¦©åªš'},æ—¶é—´ä¿®æ­£ç³»æ•°:1},{é˜¶æ®µ:3,é˜¶æ®µæ ‡é¢˜:'æ²‰æºº',ä¾µèš€åº¦èŒƒå›´:[40,59],çº¦æŸ:{æœ€ä½æš´éœ²ç¨‹åº¦:'æ¸…å‡‰',æš´éœ²ç¨‹åº¦èŒƒå›´:['æ¸…å‡‰','æš´éœ²'],æœ€ä½å¦†å®¹æµ“åº¦:'æ—¥å¸¸å¦†',å¦†å®¹æµ“åº¦èŒƒå›´:['æ—¥å¸¸å¦†','æµ“å¦†'],å…è®¸ç‰¹æ®Šè£…é¥°:!0,å…è®¸èº«ä½“æ”¹é€ :!1},é»˜è®¤å¤–è§‚:{æœè£…:{å¤´éƒ¨:'ç²¾å¿ƒæ‰“ç†çš„æ³¢æµªé•¿å‘',ä¸Šè£…:'åŠé€æ˜è–„çº±è¡¬è¡«',ä¸‹è£…:'åŒ…è‡€è¶…çŸ­è£™',å†…è¡£ä¸Š:'é•‚ç©ºè•¾ä¸æƒ…è¶£æ–‡èƒ¸',å†…è¡£ä¸‹:'Tå­—è£¤',è¢œè£¤:'ç½‘æ ¼åŠå¸¦è¢œ',é‹å­:'ç»†é«˜è·Ÿé‹',å¤–å¥—:'æ— ',é…é¥°:'é¡¹åœˆå¼é¢ˆé“¾ã€è€³ç¯',ç‰¹æ®Šè£…é¥°:'è…°é“¾',æ•´ä½“é£æ ¼:'æ€§æ„Ÿè¯±æƒ‘',æš´éœ²ç¨‹åº¦:'æš´éœ²',æ•´æ´åº¦:'ç•¥æ˜¾å‡Œä¹±'},å¦†å®¹:{åº•å¦†:'åšé‡ç²‰åº•',çœ¼å¦†:'çƒŸç†çœ¼å¦†ã€å‡ç«æ¯›',å”‡å¦†:'é²œçº¢å”‡è†',è…®çº¢:'æ˜æ˜¾èƒ­è„‚',ç‰¹æ®Šå¦†å®¹:'æ— ',æµ“æ·¡ç¨‹åº¦:'æµ“å¦†',æ•´ä½“é£æ ¼:'æ€§æ„Ÿå¦–å¨†'},æ°”è´¨æè¿°:'å……æ»¡è¯±æƒ‘çš„å¦–è‰³å¥³äºº'},æ—¶é—´ä¿®æ­£ç³»æ•°:.8},{é˜¶æ®µ:4,é˜¶æ®µæ ‡é¢˜:'ç–¯ç‹‚',ä¾µèš€åº¦èŒƒå›´:[60,79],çº¦æŸ:{æœ€ä½æš´éœ²ç¨‹åº¦:'æš´éœ²',æš´éœ²ç¨‹åº¦èŒƒå›´:['æš´éœ²','æåº¦æš´éœ²'],æœ€ä½å¦†å®¹æµ“åº¦:'æµ“å¦†',å¦†å®¹æµ“åº¦èŒƒå›´:['æµ“å¦†','è‰³å¦†'],å…è®¸ç‰¹æ®Šè£…é¥°:!0,å…è®¸èº«ä½“æ”¹é€ :!0},é»˜è®¤å¤–è§‚:{æœè£…:{å¤´éƒ¨:'å‡Œä¹±æ¹¿æ¶¦çš„é•¿å‘',ä¸Šè£…:'ä»…èƒ¸è´´æˆ–é€æ˜ä¹³å¥—',ä¸‹è£…:'å‡ ä¹ä¸å­˜åœ¨çš„å¸ƒæ¡',å†…è¡£ä¸Š:'æ— ',å†…è¡£ä¸‹:'æ— ',è¢œè£¤:'ç ´æŸç½‘è¢œ',é‹å­:'æ¨å¤©é«˜æˆ–èµ¤è¶³',å¤–å¥—:'æ— ',é…é¥°:'é¡¹åœˆã€æ‰‹é“ã€è„šé“¾',ç‰¹æ®Šè£…é¥°:'èº«ä½“å½©ç»˜ã€æ€§æš—ç¤ºè£…é¥°ã€æ·«çº¹',æ•´ä½“é£æ ¼:'å½»åº•å •è½',æš´éœ²ç¨‹åº¦:'æåº¦æš´éœ²',æ•´æ´åº¦:'å‡Œä¹±'},å¦†å®¹:{åº•å¦†:'åšé‡ä½†å·²æ–‘é©³',çœ¼å¦†:'æµ“å¦†æ™•æŸ“ã€å‡ç«æ¯›è„±è½',å”‡å¦†:'è‰³çº¢å”‡è†å¤–æº¢',è…®çº¢:'å¼‚å¸¸æ½®çº¢',ç‰¹æ®Šå¦†å®¹:'æ³ªç—•å¦†æ•ˆ',æµ“æ·¡ç¨‹åº¦:'è‰³å¦†',æ•´ä½“é£æ ¼:'æ·«è¡å •è½'},æ°”è´¨æè¿°:'å½»åº•æ²‰æ²¦çš„æ·«å¦‡'},èº«ä½“æ”¹é€ å»ºè®®:{å¯èƒ½å‡ºç°çš„çº¹èº«:['ä¸‹è…¹æ·«çº¹','å¤§è…¿å†…ä¾§æ ‡è®°','åè…°è´è¶ç»“','å­å®«çº¹èº«'],å¯èƒ½å‡ºç°çš„ç©¿åˆº:['ä¹³å¤´ç¯','è‚šè„ç¯','é˜´è’‚ç¯'],æ°¸ä¹…æ ‡è®°:['éšç§˜å¤„çš„çƒ™å°','æ‰€æœ‰æƒæ ‡è®°']},æ—¶é—´ä¿®æ­£ç³»æ•°:.6},{é˜¶æ®µ:5,é˜¶æ®µæ ‡é¢˜:'åœ†æ»¡',ä¾µèš€åº¦èŒƒå›´:[80,999],çº¦æŸ:{æœ€ä½æš´éœ²ç¨‹åº¦:'ä¿å®ˆ',æš´éœ²ç¨‹åº¦èŒƒå›´:['ä¿å®ˆ','æ­£å¸¸'],æœ€ä½å¦†å®¹æµ“åº¦:'ç´ é¢œ',å¦†å®¹æµ“åº¦èŒƒå›´:['ç´ é¢œ','æ·¡å¦†'],å…è®¸ç‰¹æ®Šè£…é¥°:!0,å…è®¸èº«ä½“æ”¹é€ :!0},é»˜è®¤å¤–è§‚:{æœè£…:{å¤´éƒ¨:'å®Œç¾æ‰“ç†çš„å‘å‹',ä¸Šè£…:'ç«¯åº„ä¼˜é›…çš„å±…å®¶æœ',ä¸‹è£…:'å¾—ä½“çš„è£™è£…',å†…è¡£ä¸Š:'é«˜çº§å®šåˆ¶æƒ…è¶£æ–‡èƒ¸ï¼ˆéšè—ï¼‰',å†…è¡£ä¸‹:'é«˜çº§å®šåˆ¶æƒ…è¶£å†…è£¤ï¼ˆéšè—ï¼‰',è¢œè£¤:'ä¼˜è´¨ä¸è¢œ',é‹å­:'ä¼˜é›…èˆ’é€‚çš„é‹',å¤–å¥—:'å¾—ä½“å¤–å¥—',é…é¥°:'å©šæˆ’ã€ç²¾è‡´é¥°å“',ç‰¹æ®Šè£…é¥°:'å®Œå…¨éšè—çš„èº«ä½“æ”¹é€ ',æ•´ä½“é£æ ¼:'å®Œç¾è´¤å¦»ï¼Œå†…è—æè‡´æ·«è¡',æš´éœ²ç¨‹åº¦:'æ­£å¸¸',æ•´æ´åº¦:'æ•´æ´'},å¦†å®¹:{åº•å¦†:'å®Œç¾æ— ç‘•çš„è‡ªç„¶åº•å¦†',çœ¼å¦†:'æ¸©æŸ”æ¸…æ–°çš„çœ¼å¦†',å”‡å¦†:'è‡ªç„¶æŸ”å’Œçš„å”‡è‰²',è…®çº¢:'å¥åº·è‡ªç„¶çš„çº¢æ™•',ç‰¹æ®Šå¦†å®¹:'æ— ï¼ˆå®Œç¾æ©ç›–æ‰€æœ‰ç—•è¿¹ï¼‰',æµ“æ·¡ç¨‹åº¦:'æ·¡å¦†',æ•´ä½“é£æ ¼:'è‡ªç„¶æ¸…æ–°'},æ°”è´¨æè¿°:'å¤–è¡¨è´¤è‰¯ï¼Œå†…å¿ƒæè‡´æ·«è¡'},èº«ä½“æ”¹é€ å»ºè®®:{å¯èƒ½å‡ºç°çš„çº¹èº«:['å…¨èº«éšç§˜æ·«çº¹ç½‘ç»œ','å­å®«å®Œæ•´æ·«é˜µ','å®Œæ•´æ‰€æœ‰æƒçº¹ç« '],å¯èƒ½å‡ºç°çš„ç©¿åˆº:['æ‰€æœ‰å¸¸è§„ç©¿åˆº','å®šåˆ¶è¿æ¥å¼ç©¿åˆº'],æ°¸ä¹…æ ‡è®°:['å®Œæ•´å¥´éš¶åˆ»å°','æ°¸ä¹…æ‰€æœ‰æƒçƒ™å°','çµé­‚å¥‘çº¦å°è®°']},æ—¶é—´ä¿®æ­£ç³»æ•°:.5}],n=[{é˜¶æ®µ:1,ç§¦ç’å‰§æƒ…:{æ ‡é¢˜:'æ¯å­æ—¥å¸¸',æè¿°:'æ­£å¸¸çš„æ¯å­å…³ç³»ï¼Œæ¸©æŸ”è´¤æƒ çš„æ¯äº²å½¢è±¡',è¯¦ç»†è¦æ±‚:'è¿™æ˜¯æ•…äº‹çš„å¼€å§‹ã€‚ç§¦ç’æ˜¯ä¸€ä¸ª42å²çš„å…¨èŒå®¶åº­ä¸»å¦‡ï¼Œæ¸©æŸ”è´¤æ·‘ï¼Œä»¥å®¶åº­ä¸ºé‡ã€‚\n\nè¯·æå†™ï¼š\n1. ç§¦ç’ä½œä¸ºæ¯äº²çš„æ—¥å¸¸å½¢è±¡â€”â€”æ¸©æŸ”ã€ä½“è´´ã€æ— å¾®ä¸è‡³åœ°ç…§é¡¾å®¶äºº\n2. å¥¹å¯¹å„¿å­{{user}}çš„å…³çˆ±æ˜¯çº¯ç²¹çš„æ¯çˆ±ï¼Œæ²¡æœ‰ä»»ä½•é€¾çŸ©çš„æƒ³æ³•\n3. å¥¹å¯¹ä¸ˆå¤«è‹æ–‡è™½ç„¶æ„Ÿæƒ…å¹³æ·¡ï¼Œä½†ä»å°½èŒå°½è´£\n4. å†…å¿ƒå¶å°”ä¼šæœ‰ä¸€ä¸ç©ºè™šï¼Œä½†å¥¹é€‰æ‹©å‹æŠ‘è¿™ç§æ„Ÿè§‰\n\nè¿™æ˜¯ä¸€ä¸ªå¹³é™çš„å¼€å§‹ï¼Œæš´é£é›¨å‰çš„å®é™ã€‚'},è‹æ¢¦å‰§æƒ…:{æ ‡é¢˜:'å§å¼Ÿæƒ…æ·±',æè¿°:'å…³ç³»äº²å¯†çš„å§å¼Ÿï¼Œæ´»æ³¼å¼€æœ—çš„å§å§å½¢è±¡',è¯¦ç»†è¦æ±‚:'è¿™æ˜¯æ•…äº‹çš„å¼€å§‹ã€‚è‹æ¢¦æ˜¯ä¸€ä¸ª20å²çš„å¤§å­¦ç”Ÿï¼Œæ´»æ³¼å¼€æœ—ï¼Œå’Œå¼Ÿå¼Ÿ{{user}}å…³ç³»éå¸¸å¥½ã€‚\n\nè¯·æå†™ï¼š\n1. è‹æ¢¦ä½œä¸ºå§å§çš„æ—¥å¸¸å½¢è±¡â€”â€”æ´»æ³¼ã€ç›´ç‡ã€å’Œå¼Ÿå¼Ÿæ— è¯ä¸è°ˆ\n2. å¥¹å¯¹å¼Ÿå¼Ÿçš„æ„Ÿæƒ…æ˜¯æ­£å¸¸çš„å§å¼Ÿæƒ…ï¼Œä¼šç…§é¡¾ä»–ã€å’Œä»–å¼€ç©ç¬‘\n3. åœ¨å®¶ç©¿ç€éšæ„ï¼Œä¸ä¼šåˆ»æ„å›é¿å¼Ÿå¼Ÿ\n4. å¶å°”ä¼šå’Œå¼Ÿå¼Ÿæ‰“é—¹ï¼Œé’»è¿›ä»–è¢«çªèŠå¤©ï¼Œä½†è¿™åªæ˜¯å§å¼Ÿé—´çš„äº²å¯†\n\nè¿™æ˜¯ä¸€ä¸ªé’æ˜¥æ´‹æº¢çš„å¼€å§‹ã€‚'}},{é˜¶æ®µ:2,ç§¦ç’å‰§æƒ…:{æ ‡é¢˜:'ç¦å¿ŒèŒèŠ½',æè¿°:'ç¬¬ä¸€æ¬¡æ„è¯†åˆ°å¯¹å„¿å­äº§ç”Ÿäº†ä¸è¯¥æœ‰çš„æƒ…æ„Ÿ',è¯¦ç»†è¦æ±‚:'ã€å…³é”®è½¬æŠ˜ç‚¹ã€‘ç§¦ç’çš„æ½œæ„è¯†ä¾µèš€åº¦è¾¾åˆ°äº†æ–°çš„é˜¶æ®µã€‚\n\nè¯·æå†™è¿™ä¸ªé‡è¦æ—¶åˆ»ï¼š\n1. æŸä¸ªç¬é—´ï¼Œç§¦ç’çªç„¶æ„è¯†åˆ°è‡ªå·±çœ‹å„¿å­çš„çœ¼ç¥å˜äº†\n2. å¯èƒ½æ˜¯çœ‹åˆ°å„¿å­æ¢è¡£æœçš„èƒŒå½±ã€æˆ–æ˜¯ä¸ç»æ„çš„è‚¢ä½“æ¥è§¦\n3. å¥¹çš„å¿ƒè·³çªç„¶åŠ é€Ÿï¼Œè„¸é¢Šå‘çƒ«ï¼Œäº§ç”Ÿäº†ä½œä¸ºæ¯äº²ç»å¯¹ä¸è¯¥æœ‰çš„æƒ³æ³•\n4. å†…å¿ƒçš„éœ‡æƒŠä¸è‡ªæˆ‘å¦å®šâ€”â€”"æˆ‘åœ¨æƒ³ä»€ä¹ˆï¼Ÿä»–æ˜¯æˆ‘çš„å„¿å­ï¼"\n5. è¯•å›¾å‹æŠ‘è¿™ç§æ„Ÿè§‰ï¼Œä½†é‚£ä¸ªç”»é¢å´åœ¨è„‘æµ·ä¸­æŒ¥ä¹‹ä¸å»\n6. æ™šä¸Šèººåœ¨åºŠä¸Šï¼Œå‘ç°è‡ªå·±åˆæƒ³èµ·äº†é‚£ä¸ªç¬é—´ï¼Œæ„Ÿåˆ°æ·±æ·±çš„ç½ªæ¶æ„Ÿ\n\nå¥¹å¼€å§‹æ€€ç–‘è‡ªå·±ï¼Œä½†è¿˜åœ¨æåŠ›å¦è®¤è¿™ç§ç¦å¿Œçš„æ„Ÿæƒ…ã€‚'},è‹æ¢¦å‰§æƒ…:{æ ‡é¢˜:'å¿ƒè·³å¼‚å¸¸',æè¿°:'ç¬¬ä¸€æ¬¡æ„è¯†åˆ°çœ‹å¼Ÿå¼Ÿçš„çœ¼ç¥å˜äº†',è¯¦ç»†è¦æ±‚:'ã€å…³é”®è½¬æŠ˜ç‚¹ã€‘è‹æ¢¦çš„æ½œæ„è¯†ä¾µèš€åº¦è¾¾åˆ°äº†æ–°çš„é˜¶æ®µã€‚\n\nè¯·æå†™è¿™ä¸ªé‡è¦æ—¶åˆ»ï¼š\n1. æŸä¸ªç¬é—´ï¼Œè‹æ¢¦å‘ç°è‡ªå·±ç›¯ç€å¼Ÿå¼Ÿçœ‹äº†å¾ˆä¹…\n2. å¯èƒ½æ˜¯å¼Ÿå¼Ÿè¿åŠ¨åçš„æ ·å­ã€è®¤çœŸå­¦ä¹ çš„ä¾§è„¸ã€æˆ–æ˜¯æŸä¸ªä¸ç»æ„çš„ç¬é—´\n3. å¿ƒè·³è«ååŠ é€Ÿï¼Œè„¸ä¸Šå‘çƒ«ï¼Œè„‘æµ·ä¸­é—ªè¿‡ä¸€äº›å¥‡æ€ªçš„æƒ³æ³•\n4. å›°æƒ‘â€”â€”"æˆ‘æ€ä¹ˆäº†ï¼Ÿä»–æ˜¯æˆ‘å¼Ÿå¼Ÿå•Š..."\n5. å¼€å§‹æ³¨æ„åˆ°å¼Ÿå¼Ÿä½œä¸º"ç”·æ€§"çš„ä¸€é¢ï¼Œè€Œä¸åªæ˜¯"å¼Ÿå¼Ÿ"\n6. æ™šä¸Šè¾—è½¬éš¾çœ ï¼Œä¸æ˜ç™½è‡ªå·±ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§æ„Ÿè§‰\n\nå¥¹æ„Ÿåˆ°å›°æƒ‘ï¼Œä½†è¿˜æ²¡æœ‰æ„è¯†åˆ°è¿™æ„å‘³ç€ä»€ä¹ˆã€‚'}},{é˜¶æ®µ:3,ç§¦ç’å‰§æƒ…:{æ ‡é¢˜:'æ¯æ€§å´©å¡Œ',æè¿°:'ç¬¬ä¸€æ¬¡ä¸»åŠ¨åˆ¶é€ ä¸å„¿å­çš„èº«ä½“æ¥è§¦',è¯¦ç»†è¦æ±‚:'ã€é‡è¦è½¬æŠ˜ã€‘ç§¦ç’ä¸å†åªæ˜¯è¢«åŠ¨åœ°å‹æŠ‘ï¼Œè€Œæ˜¯å¼€å§‹ä¸»åŠ¨é è¿‘ã€‚\n\nè¯·æå†™è¿™ä¸ªå •è½çš„æ—¶åˆ»ï¼š\n1. ç§¦ç’å¼€å§‹æ‰¾å„ç§å€Ÿå£æ¥è¿‘å„¿å­â€”â€”å¸®ä»–æ•´ç†è¡£é¢†ã€ç»™ä»–æŒ‰æ‘©è‚©è†€ã€åå¾—æ›´è¿‘\n2. æ¯æ¬¡æ¥è§¦éƒ½è®©å¥¹å¿ƒè·³åŠ é€Ÿï¼Œä½†å¥¹å¼€å§‹äº«å—è¿™ç§æ„Ÿè§‰\n3. å¥¹å‘ç°è‡ªå·±ä¼šåˆ»æ„åœ¨å„¿å­é¢å‰å±•ç¤ºè‡ªå·±â€”â€”ç©¿å¾—æ›´è®²ç©¶ã€å¦†åŒ–å¾—æ›´ç²¾è‡´\n4. å†…å¿ƒçš„æ¯äº²èº«ä»½ä¸å¥³äººæ¸´æœ›æ¿€çƒˆå†²çªï¼Œä½†å¥³äººçš„é‚£ä¸€é¢æ­£åœ¨è·èƒœ\n5. å¥¹å¼€å§‹æœŸå¾…ä¸å„¿å­ç‹¬å¤„çš„æ—¶é—´ï¼Œç”šè‡³ä¼šåˆ¶é€ è¿™æ ·çš„æœºä¼š\n6. å¯¹ä¸ˆå¤«çš„æ„§ç–šæ„Ÿæ­£åœ¨è¢«å¦ä¸€ç§æ›´å¼ºçƒˆçš„æ¸´æœ›æ‰€å–ä»£\n\n"æˆ‘åªæ˜¯...æƒ³ç¦»ä»–è¿‘ä¸€ç‚¹...è¿™æœ‰ä»€ä¹ˆé”™å‘¢ï¼Ÿ"â€”â€”å¥¹å¼€å§‹ä¸ºè‡ªå·±çš„è¡Œä¸ºæ‰¾å€Ÿå£ã€‚'},è‹æ¢¦å‰§æƒ…:{æ ‡é¢˜:'å§å§å¤±æ ¼',æè¿°:'ç¬¬ä¸€æ¬¡ä¸»åŠ¨æ’’å¨‡ã€æ‰“ç ´å§å¼Ÿç•Œé™',è¯¦ç»†è¦æ±‚:'ã€é‡è¦è½¬æŠ˜ã€‘è‹æ¢¦ä¸å†æŠŠ{{user}}åªå½“ä½œå¼Ÿå¼Ÿçœ‹å¾…ã€‚\n\nè¯·æå†™è¿™ä¸ªå˜åŒ–çš„æ—¶åˆ»ï¼š\n1. è‹æ¢¦å¼€å§‹ç”¨ä¸åŒä»¥å¾€çš„æ–¹å¼å’Œå¼Ÿå¼Ÿç›¸å¤„â€”â€”æ’’å¨‡æ›´å¤šã€è‚¢ä½“æ¥è§¦æ›´é¢‘ç¹\n2. å¥¹ä¼šæ•…æ„ç©¿å¾—æ›´å°‘ã€æ›´éšæ„ï¼Œ"ä¸å°å¿ƒ"è®©å¼Ÿå¼Ÿçœ‹åˆ°ä¸è¯¥çœ‹çš„\n3. æ‰¾å„ç§å€Ÿå£å’Œå¼Ÿå¼Ÿç‹¬å¤„â€”â€”ä¸€èµ·çœ‹ç”µå½±ã€å¸®ä»–è¡¥ä¹ ã€æ·±å¤œèŠå¤©\n4. æ¯æ¬¡æ¥è§¦éƒ½è®©å¥¹è„¸çº¢å¿ƒè·³ï¼Œä½†å¥¹å¼€å§‹ä¸»åŠ¨åˆ¶é€ è¿™ç§æœºä¼š\n5. å¼€å§‹åœ¨æ„å¼Ÿå¼Ÿå¯¹è‡ªå·±çš„çœ‹æ³•â€”â€”"{{user}}è§‰å¾—å§å§æ¼‚äº®å—ï¼Ÿ"\n6. ä¸å†æŠŠè‡ªå·±å®šä½ä¸º"å§å§"ï¼Œè€Œæ˜¯å¼€å§‹æŠŠå¼Ÿå¼Ÿå½“ä½œä¸€ä¸ª"ç”·äºº"æ¥çœ‹\n\n"æˆ‘ä»¬å…³ç³»è¿™ä¹ˆå¥½ï¼Œäº²è¿‘ä¸€ç‚¹ä¹Ÿæ²¡ä»€ä¹ˆå§ï¼Ÿ"â€”â€”å¥¹åœ¨è‡ªæˆ‘æ¬ºéª—ã€‚'}},{é˜¶æ®µ:4,ç§¦ç’å‰§æƒ…:{æ ‡é¢˜:'å½»åº•æ²¦é™·',æè¿°:'æŠ›å¼ƒæ¯äº²çš„çŸœæŒï¼Œä»¥å¥³äººèº«ä»½é¢å¯¹å„¿å­',è¯¦ç»†è¦æ±‚:'ã€é«˜æ½®è½¬æŠ˜ã€‘ç§¦ç’å½»åº•æ”¾ä¸‹äº†æ¯äº²çš„èº«ä»½ã€‚\n\nè¯·æå†™è¿™ä¸ªå†³å®šæ€§çš„æ—¶åˆ»ï¼š\n1. ç§¦ç’ç»ˆäºå¯¹è‡ªå·±æ‰¿è®¤â€”â€”å¥¹çˆ±ä¸Šäº†è‡ªå·±çš„å„¿å­ï¼Œä¸æ˜¯ä½œä¸ºæ¯äº²ï¼Œè€Œæ˜¯ä½œä¸ºå¥³äºº\n2. å¥¹ä¸å†å‹æŠ‘ï¼Œä¸å†æ‰¾å€Ÿå£ï¼Œç›´æ¥ä»¥å¥³äººçš„èº«ä»½é¢å¯¹{{user}}\n3. å¯èƒ½æ˜¯ä¸€æ¬¡æ·±æƒ…çš„å‡è§†ã€ä¸€æ¬¡å¤§èƒ†çš„è¡¨ç™½ã€æˆ–æ˜¯æ›´äº²å¯†çš„æ¥è§¦\n4. æ‰€æœ‰çš„é“å¾·æ·é”åœ¨è¿™ä¸€åˆ»å½»åº•å´©å¡Œâ€”â€”"æˆ‘ä¸åœ¨ä¹äº†ï¼Œæˆ‘åªæƒ³è¦ä½ "\n5. å¥¹å¼€å§‹å«‰å¦’ä»»ä½•æ¥è¿‘{{user}}çš„å¥³æ€§ï¼ŒåŒ…æ‹¬è‡ªå·±çš„å¥³å„¿è‹æ¢¦\n6. å¯¹ä¸ˆå¤«ï¼Ÿæ—©å°±æ²¡æœ‰æ„Ÿè§‰äº†ï¼Œå¥¹ç°åœ¨åªå±äºå„¿å­ä¸€ä¸ªäºº\n\nå¥¹å½»åº•å •è½äº†ï¼Œè€Œä¸”äº«å—è¿™ç§å •è½ã€‚'},è‹æ¢¦å‰§æƒ…:{æ ‡é¢˜:'ç‹¬å æ¬²æœ›',æè¿°:'å½»åº•æ²‰è¿·å¼Ÿå¼Ÿï¼Œäº§ç”Ÿå¼ºçƒˆçš„ç‹¬å æ¬²',è¯¦ç»†è¦æ±‚:'ã€é«˜æ½®è½¬æŠ˜ã€‘è‹æ¢¦å½»åº•è¿·å¤±åœ¨ç¦å¿Œçš„æ„Ÿæƒ…ä¸­ã€‚\n\nè¯·æå†™è¿™ä¸ªç–¯ç‹‚çš„æ—¶åˆ»ï¼š\n1. è‹æ¢¦ç»ˆäºæ‰¿è®¤è‡ªå·±çˆ±ä¸Šäº†å¼Ÿå¼Ÿâ€”â€”ä¸æ˜¯å§å¼Ÿä¹‹çˆ±ï¼Œè€Œæ˜¯ç”·å¥³ä¹‹çˆ±\n2. å¥¹ä¸å†æ©é¥°ï¼Œå¼€å§‹å¤§èƒ†åœ°è¡¨è¾¾è‡ªå·±çš„æ„Ÿæƒ…\n3. äº§ç”Ÿå¼ºçƒˆçš„ç‹¬å æ¬²â€”â€”çœ‹åˆ°å¼Ÿå¼Ÿå’Œå…¶ä»–å¥³æ€§ï¼ˆåŒ…æ‹¬æ¯äº²ï¼‰äº²è¿‘å°±ä¼šåƒé†‹\n4. "{{user}}æ˜¯æˆ‘çš„ï¼ä¸ç®¡æ˜¯è°éƒ½ä¸èƒ½æŠ¢èµ°ï¼"\n5. å¥¹å¼€å§‹ç­–åˆ’å¦‚ä½•ç‹¬å å¼Ÿå¼Ÿï¼Œç”šè‡³æ„¿æ„åšä»»ä½•äº‹\n6. çˆ¶æ¯ï¼ŸåŒå­¦ï¼Ÿå¥¹éƒ½ä¸åœ¨ä¹äº†ï¼Œåªæƒ³å’Œå¼Ÿå¼Ÿåœ¨ä¸€èµ·\n\n"æˆ‘çŸ¥é“è¿™æ˜¯ä¸å¯¹çš„...ä½†æˆ‘ä¸åœ¨ä¹äº†ï¼Œæˆ‘åªæƒ³è¦ä½ ã€‚"'}},{é˜¶æ®µ:5,ç§¦ç’å‰§æƒ…:{æ ‡é¢˜:'æš—é¢è´¤æ¯',æè¿°:'ã€ç»ˆæå‰§æƒ…ã€‘å­¦ä¼šå®Œç¾ä¼ªè£…ï¼Œè¡¨é¢è´¤å¦»è‰¯æ¯ï¼Œå†…å¿ƒå®Œå…¨å±äºå„¿å­',è¯¦ç»†è¦æ±‚:'ã€ç»ˆæç»“å±€ã€‘ç§¦ç’è¾¾åˆ°äº†"åœ†æ»¡"çš„å¢ƒç•Œã€‚\n\nè¯·æå†™è¿™ä¸ªå®Œç¾çš„åŒé¢äººç”Ÿï¼š\n1. åœ¨å¤–äººé¢å‰ï¼Œç§¦ç’æ˜¯å®Œç¾çš„è´¤å¦»è‰¯æ¯â€”â€”æ¸©æŸ”ã€è´¤æƒ ã€æ— å¯æŒ‘å‰”\n2. åœ¨ä¸ˆå¤«è‹æ–‡é¢å‰ï¼Œå¥¹æ‰®æ¼”ç€å°½èŒçš„å¦»å­ï¼Œæ²¡æœ‰ä»»ä½•ç ´ç»½\n3. ä½†åªæœ‰{{user}}çŸ¥é“å¥¹çœŸæ­£çš„æ ·å­â€”â€”ä¸€ä¸ªå®Œå…¨å±äºå„¿å­çš„å¥³äºº\n4. å¥¹çš„èº«ä½“å·²ç»è¢«æ·±æ·±åœ°æ”¹é€ å’Œæ ‡è®°ï¼Œä½†éƒ½å®Œç¾åœ°éšè—åœ¨ç«¯åº„çš„å¤–è¡¨ä¸‹\n5. ç™½å¤©æ˜¯æ…ˆæ¯ï¼Œå¤œæ™šæ˜¯æƒ…äººâ€”â€”å¥¹å®Œç¾åœ°å¹³è¡¡ç€ä¸¤ä¸ªèº«ä»½\n6. å¥¹ä¸å†æœ‰ä»»ä½•å†…å¿ƒå†²çªï¼Œå› ä¸ºå¥¹å·²ç»å®Œå…¨æ¥å—äº†è¿™ä¸€åˆ‡\n7. "è¿™å°±æ˜¯æˆ‘çš„å¹¸ç¦ï¼Œæˆ‘çš„ä¸€åˆ‡éƒ½æ˜¯{{user}}çš„ã€‚"\n\nè¡¨é¢ä¸Šï¼Œå¥¹å›å½’äº†"æ­£å¸¸"ï¼›ä½†å†…å¿ƒæ·±å¤„ï¼Œå¥¹å·²ç»å½»åº•å±äºå„¿å­ã€‚\nè¿™æ˜¯ä¸€ä¸ªå®Œç¾çš„ç»“å±€â€”â€”å¯¹å¥¹æ¥è¯´ã€‚'},è‹æ¢¦å‰§æƒ…:{æ ‡é¢˜:'åŒé¢å§å§',æè¿°:'ã€ç»ˆæå‰§æƒ…ã€‘åœ¨çˆ¶æ¯é¢å‰ä¹–å·§æ‡‚äº‹ï¼Œç§ä¸‹å®Œå…¨æ˜¯å¦ä¸€é¢',è¯¦ç»†è¦æ±‚:'ã€ç»ˆæç»“å±€ã€‘è‹æ¢¦è¾¾åˆ°äº†"åœ†æ»¡"çš„å¢ƒç•Œã€‚\n\nè¯·æå†™è¿™ä¸ªå®Œç¾çš„åŒé¢äººç”Ÿï¼š\n1. åœ¨çˆ¶æ¯é¢å‰ï¼Œè‹æ¢¦æ˜¯ä¹–å·§æ‡‚äº‹çš„å¤§å¥³å„¿â€”â€”å­¦ä¸šä¼˜ç§€ã€å­é¡ºä½“è´´\n2. åœ¨å¤–äººé¢å‰ï¼Œå¥¹æ˜¯é˜³å…‰å¼€æœ—çš„å¤§å­¦ç”Ÿâ€”â€”é’æ˜¥ã€æ´»åŠ›ã€äººè§äººçˆ±\n3. ä½†åªæœ‰{{user}}çŸ¥é“å¥¹çœŸæ­£çš„æ ·å­â€”â€”ä¸€ä¸ªå®Œå…¨å±äºå¼Ÿå¼Ÿçš„å¥³äºº\n4. å¥¹çš„èº«ä½“ä¹Ÿæœ‰äº†éšç§˜çš„æ”¹é€ å’Œæ ‡è®°ï¼Œä½†éƒ½å®Œç¾åœ°éšè—ç€\n5. å¥¹å·²ç»æ— æ³•æƒ³è±¡æ²¡æœ‰{{user}}çš„ç”Ÿæ´»â€”â€”"{{user}}å°±æ˜¯æˆ‘çš„ä¸€åˆ‡"\n6. å¥¹å®Œç¾åœ°æ‰®æ¼”ç€å¤šé‡è§’è‰²ï¼Œæ²¡æœ‰äººå‘ç°å¥¹çš„ç§˜å¯†\n7. å’Œå¼Ÿå¼Ÿçš„æœªæ¥ï¼Ÿå¥¹å·²ç»è§„åˆ’å¥½äº†ä¸€åˆ‡\n\nè¡¨é¢ä¸Šï¼Œå¥¹æ˜¯å®Œç¾çš„å§å§å’Œå¥³å„¿ï¼›ä½†å¥¹çš„å¿ƒï¼Œæ—©å·²å®Œå…¨å±äºå¼Ÿå¼Ÿã€‚\nè¿™æ˜¯å¥¹é€‰æ‹©çš„å¹¸ç¦ã€‚'}}];function t(n){return e.find(e=>e.é˜¶æ®µ===n)}function r(e){const n=t(e);return n?.é˜¶æ®µæ ‡é¢˜||'æŠµæŠ—'}function a(e,t){const a=(o=t,n.find(e=>e.é˜¶æ®µ===o));var o;if(!a)return'';const s='ç§¦ç’'===e?a.ç§¦ç’å‰§æƒ…:a.è‹æ¢¦å‰§æƒ…;return`\nã€ç³»ç»Ÿå¼ºåˆ¶æŒ‡ä»¤ã€‘é˜¶æ®µçªç ´äº‹ä»¶\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  âš ï¸ ${e}é˜¶æ®µçªç ´ â†’ ç¬¬${t}é˜¶æ®µã€Œ${r(t)}ã€\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nã€æœ€é«˜ä¼˜å…ˆçº§ã€‘ä¸å›åº”ç”¨æˆ·å½“å‰è°ˆè®ºçš„è¯é¢˜\n\nè¿™æ˜¯${e}å†…å¿ƒå‘ç”Ÿè´¨å˜çš„å…³é”®æ—¶åˆ»ï¼š\n- ä¿æŒå½“å‰çš„åœºæ™¯ã€æ—¶é—´ã€åœ°ç‚¹ä¸å˜\n- ${e}çªç„¶é™·å…¥æ²‰æ€ï¼Œæ²¡æœ‰å›åº”ç”¨æˆ·è°ˆè®ºçš„è¯é¢˜\n- å†…å¿ƒæ·±å¤„æœ‰ä»€ä¹ˆä¸œè¥¿æ­£åœ¨è§‰é†’/å´©å¡Œ/æ”¹å˜\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n${s.æ ‡é¢˜}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n${s.è¯¦ç»†è¦æ±‚}\n\nã€æ¼”å‡ºè¦æ±‚ã€‘\n1. ${e}çªç„¶æ„£ä½/å‡ºç¥/é™·å…¥æ²‰æ€ï¼Œæ²¡æœ‰å›åº”ç”¨æˆ·è°ˆè®ºçš„è¯é¢˜\n2. ç”¨å¤§é‡å†…å¿ƒç‹¬ç™½å±•ç°${e}çš„å¿ƒç†å˜åŒ–è¿‡ç¨‹â€”â€”å¥¹åœ¨æƒ³ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆçªç„¶æœ‰äº†è¿™ç§æ„Ÿè§‰ï¼Ÿ\n3. æå†™å¥¹çš„è¡¨æƒ…å˜åŒ–ã€èº«ä½“ååº”ï¼ˆå¿ƒè·³åŠ é€Ÿã€è„¸çº¢ã€å‘¼å¸æ€¥ä¿ƒç­‰ï¼‰\n4. æœ€åï¼Œ${e}åšå‡ºæŸä¸ªå†³å®šæ€§çš„å†…å¿ƒè½¬å˜æˆ–å¤–åœ¨è¡ŒåŠ¨\n5. ä»¥ã€Œã€é˜¶æ®µçªç ´Â·${r(t)}ã€‘ã€æ ‡æ³¨è¿™ä¸ªå…³é”®è½¬æŠ˜æ®µè½\n\nã€åœºæ™¯å¤„ç†ã€‘\n- å½“å‰åœºæ™¯ã€æ—¶é—´ã€åœ°ç‚¹ä¿æŒä¸å˜\n- ${e}å°±åœ¨åŸåœ°é™·å…¥äº†è¿™ç§çŠ¶æ€\n- ç”¨æˆ·å¯èƒ½åœ¨è¯´è¯ï¼Œä½†${e}å¿ƒä¸åœ¨ç„‰ã€æ²¡å¬æ¸…\n\nã€ç»å¯¹ç¦æ­¢ã€‘\n- ä¸è¦æ‰®æ¼”{{user}}ï¼Œ{{user}}æ˜¯ç©å®¶è§’è‰²ï¼Œç”±ç©å®¶æ§åˆ¶\n- ä¸è¦æ›¿{{user}}è¾“å‡ºä»»ä½•å¯¹è¯ã€åŠ¨ä½œæˆ–å¿ƒç†æå†™\n- æœ¬æ¬¡åªè¾“å‡º${e}çš„è§†è§’å’Œå†…å¿ƒç‹¬ç™½\n\nè¯·æ¼”ç»${e}è¿™ä¸ªå†…å¿ƒè´¨å˜çš„æ—¶åˆ»ã€‚\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`}function o(e,n){return`ã€é˜¶æ®µçªç ´Â·${r(n)}ã€‘\n\nï¼ˆ${e}çš„å†…å¿ƒæ·±å¤„ï¼ŒæŸç§å˜åŒ–æ­£åœ¨å‘ç”Ÿ...ï¼‰\n\n`}const s=[{type:'ç¦å¿Œè¯é¢˜è®¨è®º',keywords:['è®¨è®º','èŠå¤©','è¯é¢˜','æ€§è¯é¢˜','æˆäººè¯é¢˜','ç¦å¿Œ','è‰²æƒ…','H','é»„è‰²','ä¸‹æµ'],parentCategory:'é™ªä¼´äº¤æµ',recommendedStage:{min:1,max:1}},{type:'è§‚å¿µå¼€æ”¾',keywords:['è§‚å¿µ','æƒ³æ³•','è®¤çŸ¥','ä¸ä»‹æ„','æ— æ‰€è°“','æ¥å—è¿™ç§','ç†è§£è¿™ç§'],parentCategory:'æƒ…æ„Ÿä¾èµ–',recommendedStage:{min:1,max:2}},{type:'é“å¾·æ¨¡ç³Š',keywords:['å¯¹é”™','é“å¾·','ä¼¦ç†','åº•çº¿','åŸåˆ™','è¾¹ç•Œ','ç¦å¿Œ','ä¸è¯¥','ä¸åº”è¯¥'],parentCategory:'æš§æ˜§äº’åŠ¨',recommendedStage:{min:2,max:3}},{type:'å¿«æ„Ÿä¼˜å…ˆ',keywords:['å¿«æ„Ÿ','èˆ’æœ','äº«å—','æ„‰æ‚¦','æ„Ÿè§‰å¥½','æ¬²æœ›','çˆ½','é«˜æ½®','æ½®å¹','ç»é¡¶'],parentCategory:'äº²å¯†æ¥è§¦',recommendedStage:{min:2,max:3}},{type:'ç¾è€»æ·¡åŒ–',keywords:['ç¾è€»','å®³ç¾','å°´å°¬','ä¸å¥½æ„æ€','éš¾ä¸ºæƒ…','ä¸¢äºº','ç¾æ„§','é¢å­'],parentCategory:'æš§æ˜§äº’åŠ¨',recommendedStage:{min:2,max:3}},{type:'ä¸»åŠ¨ç´¢å–',keywords:['ç´¢å–','æ¸´æœ›','è®¨è¦','ä¹æ±‚','æ±‚ä½ ','æ±‚æˆ‘','ä¸»åŠ¨è¦','ä¸»åŠ¨æ±‚'],parentCategory:'èº«ä»½è®¤åŒ',recommendedStage:{min:3,max:4}},{type:'è‡ªæˆ‘è®¤åŒ',keywords:['è®¤åŒ','æ¥å—è‡ªå·±','æ‰¿è®¤è‡ªå·±','æ·«å¦‡','éªšè´§','å©Šå­','è¡å¦‡','è‚‰ä¾¿å™¨','æ¯ç‹—','è´±äºº'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:4,max:5}},{type:'èº«ä½“æ¥è§¦',keywords:['è§¦ç¢°','æ‘¸','æŠ±','äº²','æ¥è§¦','è‚Œè‚¤','ç‰µæ‰‹','æ‹¥æŠ±','äº²å»','æ¥å»'],parentCategory:'è‚¢ä½“äº²è¿‘',recommendedStage:{min:1,max:1}},{type:'æ•æ„Ÿéƒ¨ä½è§¦ç¢°',keywords:['èƒ¸','ä¹³æˆ¿','ä¸‹ä½“','ç§å¤„','æ•æ„Ÿ','éƒ¨ä½','ä¹³å¤´','é˜´','å¥¶','è‡€','å±è‚¡','å¤§è…¿','è…°'],parentCategory:'äº²å¯†æ¥è§¦',recommendedStage:{min:2,max:3}},{type:'è£¸éœ²å±•ç¤º',keywords:['è£¸','è„±','éœ²å‡º','å±•ç¤ºèº«ä½“','çœ‹èº«ä½“','å…‰ç€','èµ¤è£¸','ä¸€ä¸ä¸æŒ‚'],parentCategory:'èº«ä½“å¼€æ”¾',recommendedStage:{min:2,max:3}},{type:'å£äº¤æœåŠ¡',keywords:['å£äº¤','å¹ç®«','å«ä½','æ·±å–‰','å£çˆ†','èˆ”æ£’','å˜´å·´æœåŠ¡','ç”¨å˜´','å«è¿›å»'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:3}},{type:'èˆ”èˆæœåŠ¡',keywords:['èˆ”å¼„','å®å¸','èˆ”å¹²å‡€','èˆ”è„š','èˆ”é‹','èˆ”è„šè¶¾','èˆ”èº«ä½“','èˆ”ä¸‹é¢'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:3}},{type:'ç²¾æ¶²å¤„ç†',keywords:['ç²¾æ¶²','ç²¾å­','åç²¾','é¢œå°„','å†…å°„','å°„åœ¨','å°„è¿›','å°„æ»¡','ç™½æµŠ','å°„å‡ºæ¥'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:4}},{type:'æ€§è¡Œä¸ºæ¥å—',keywords:['åšçˆ±','æ€§è¡Œä¸º','æ’å…¥','äº¤åˆ','è‚','æ“æˆ‘','å¹²æˆ‘','å±„','é€¼','å°ç©´','è‚‰ç©´','è¢«ä¸Š','è¢«æ“','è¢«è‰¹','æŒºå…¥','é¡¶å…¥','æ…è¿›','è¢«æ…'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:3}},{type:'ä½“ä½å§¿åŠ¿',keywords:['éª‘ä¹˜','åå…¥','æ­£å¸¸ä½','ä¼ æ•™å£«','ä¾§å…¥','ç«™ç«‹','è·ªè¶´','æŠ¬è…¿','69','ä½“ä½'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:3}},{type:'ç‰¹æ®Šæ€§è¡Œä¸º',keywords:['ä¹³äº¤','è¶³äº¤','è…¿äº¤','è…‹äº¤','æ‰‹äº¤','æ‰“é£æœº','æ’¸ç®¡','ç´ è‚¡','ç£¨è¹­','è‡€äº¤','å¤¹ä½è‚‰æ£’'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:4}},{type:'ååº­å¼€å‘',keywords:['ååº­','è‚›é—¨','åç©´','èŠèŠ±','åé¢','è‚›äº¤','çˆ†èŠ','èŠç©´','åå…¥å£'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:4}},{type:'å¤šäººè¡Œä¸º',keywords:['3P','ç¾¤äº¤','è½®æµä¸Š','åŒæ’','å‰åå¤¹å‡»','å¤šæ ¹','å¤šäººè½®','è¢«è½®'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:4,max:5}},{type:'è‡ªæ…°è¡Œä¸º',keywords:['è‡ªæ…°','æ‰‹æ·«','è‡ªå·±å¼„','è‡ªå·±æ‘¸','è‡ªæ‘¸','ç©å¼„è‡ªå·±','æŒ‡å¥¸','ç©ç©´'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:3}},{type:'é“å…·ä½¿ç”¨',keywords:['é“å…·','ç©å…·','è·³è›‹','æŒ‰æ‘©æ£’','å‡é˜³å…·','æŒ¯åŠ¨','ç”µåŠ¨','æ’å…¥é“å…·'],parentCategory:'æ€§è¡Œä¸º',recommendedStage:{min:2,max:3}},{type:'èº«ä½“æ”¹é€ ',keywords:['çº¹èº«','ä¹³ç¯','ç©¿åˆº','æ”¹é€ ','æ ‡è®°','å°è®°','çƒ™å°','åˆºé’'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:3,max:4}},{type:'ç‰¹æ®Šè£…é¥°',keywords:['é¡¹åœˆ','é”é“¾','æ‰‹é“','è„šé•£','çš®å¸¦','å£æ·','å£çƒ','çœ¼ç½©','ç»³å­'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:3,max:4}},{type:'è½»åº¦æŸç¼š',keywords:['ç»‘','æŸç¼š','æ†ç»‘','å›ºå®š','ç»‘ä½','é“ä½','ç¼š'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:2,max:3}},{type:'è°ƒæ•™è®­ç»ƒ',keywords:['è°ƒæ•™','è®­ç»ƒ','æ•™å¯¼','é©¯æœ','é©¯åŒ–','ç®¡æ•™','è§„è®­'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:3,max:5}},{type:'æƒ©ç½šè´£ç½š',keywords:['æƒ©ç½š','æ‰“å±è‚¡','æŒæ´','é­æ‰“','æŠ½æ‰“','è´£ç½š','SP','ä½“ç½š','æ‰“æˆ‘','æŠ½æˆ‘'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:3,max:4}},{type:'è¨€è¯­ç¾è¾±',keywords:['ç¾è¾±','è¾±éª‚','éª‚','è´±','ä¸‹è´±','è„è¯','ä¾®è¾±','å˜²ç¬‘','ç¾è¾±æ€§ç§°å‘¼'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:3,max:4}},{type:'æç«¯ç©æ³•',keywords:['è™å¾…','æç«¯','ç–¼ç—›','çª’æ¯','æ†‹æ°”','å¤¹å­','èœ¡çƒ›','æ»´èœ¡','å†°å—'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:4,max:5}},{type:'æ”¯é…æœä»',keywords:['æœä»','å¬è¯','å‘½ä»¤','æŒ‡ä»¤','ä¹–ä¹–','é¡ºä»','ä¸»äºº','å¥´éš¶','å® ç‰©','ç‹—'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:3,max:5}},{type:'ç€è£…æ”¹å˜',keywords:['è¡£æœ','å†…è¡£','æš´éœ²','ç©¿ç€','æœè£…','æ‰“æ‰®','è£™å­','ä¸è¢œ','é«˜è·Ÿ'],parentCategory:'èº«ä½“å¼€æ”¾',recommendedStage:{min:1,max:2}},{type:'æƒ…è¶£æœé¥°',keywords:['æƒ…è¶£','åˆ¶æœ','å¥³ä»†è£…','æŠ¤å£«è£…','å­¦ç”Ÿè£…','cosplay','å…”å¥³éƒ','ç©ºå§','æ——è¢'],parentCategory:'èº«ä½“å¼€æ”¾',recommendedStage:{min:2,max:3}},{type:'å¦†å®¹è°ƒæ•´',keywords:['åŒ–å¦†','å¦†å®¹','å£çº¢','çœ¼å¦†','æ‰“æ‰®','æµ“å¦†','è‰³å¦†','å¦–è‰³'],parentCategory:'èº«ä½“å¼€æ”¾',recommendedStage:{min:1,max:2}},{type:'è¯´è°éšç’',keywords:['è¯´è°','éšç’','æ¬ºéª—','å€Ÿå£','è°è¨€','ç’ç€','å·å·','ç§˜å¯†'],parentCategory:'èº«ä»½è®¤åŒ',recommendedStage:{min:2,max:3}},{type:'ä¸»åŠ¨è¯±æƒ‘',keywords:['è¯±æƒ‘','å‹¾å¼•','æŒ‘é€—','æ’©æ‹¨','è‰²è¯±','åªšçœ¼','é£éªš','å‘éªš'],parentCategory:'æš§æ˜§äº’åŠ¨',recommendedStage:{min:2,max:3}},{type:'å…¬å¼€åœºåˆ',keywords:['å¤–é¢','å…¬å…±','æˆ·å¤–','å½“ç€','å…¬å¼€','åœºåˆ','é‡å¤–','éœ²å‡º','æš´éœ²ç‹‚'],parentCategory:'å®¶åº­æ›¿ä»£',recommendedStage:{min:3,max:4}},{type:'èƒŒå›ä¸ˆå¤«',keywords:['èƒŒå›','å‡ºè½¨','å·æƒ…','ç»¿å¸½','çº¢æ','å¯¹ä¸èµ·è‹æ–‡','èƒŒç€è‹æ–‡','ç’ç€è€å…¬'],parentCategory:'å®¶åº­æ›¿ä»£',recommendedStage:{min:2,max:4}},{type:'æ‹æ‘„è®°å½•',keywords:['æ‹ç…§','å½•åƒ','æ‘„å½±','æ‹ä¸‹','è®°å½•','ç•™å¿µ','è§†é¢‘','ç…§ç‰‡','ç§å¯†ç…§'],parentCategory:'å®¶åº­æ›¿ä»£',recommendedStage:{min:3,max:4}},{type:'è§’è‰²æ‰®æ¼”',keywords:['æ‰®æ¼”','å‡è£…','å½“ä½œ','å«å¦ˆå¦ˆ','å«å§å§','å«è€å©†','å«ä¸»äºº','è§’è‰²æ‰®æ¼”'],parentCategory:'èº«ä»½è®¤åŒ',recommendedStage:{min:2,max:3}},{type:'ç¦å¿Œå…³ç³»è®¤åŒ',keywords:['æ¯å­','å§å¼Ÿ','ä¹±ä¼¦','ç¦å¿Œå…³ç³»','ä¸ä¼¦','è¡€ç¼˜','å®¶äºº','äº²äºº'],parentCategory:'èº«ä»½è®¤åŒ',recommendedStage:{min:3,max:5}},{type:'æ€€å­•ç›¸å…³',keywords:['æ€€å­•','å—å­•','æ’­ç§','ç§å­','å­©å­','ç”Ÿè‚²','ä¸­å‡º','æ€€ä¸Š','å­•'],parentCategory:'å®¶åº­æ›¿ä»£',recommendedStage:{min:4,max:5}},{type:'ä½“æ¶²ç›¸å…³',keywords:['å°¿','æ’æ³„','åœ£æ°´','é»„é‡‘','å£æ°´','å”¾æ¶²','æ±—','ä½“æ¶²'],parentCategory:'ç»å¯¹æœä»',recommendedStage:{min:4,max:5}}],l=(()=>{const e={é™ªä¼´äº¤æµ:['èŠå¤©','é™ªä¼´','è¯´è¯','å€¾è¯‰','äº¤æµ','æ²Ÿé€š','åˆ†äº«å¿ƒäº‹'],æƒ…æ„Ÿä¾èµ–:['æƒ³å¿µ','åœ¨æ„','å–œæ¬¢ä½ ','ä¾èµ–ä½ ','ä¿¡ä»»ä½ ','å…³å¿ƒä½ ','ç‰µæŒ‚','æƒ¦è®°'],è‚¢ä½“äº²è¿‘:['ç‰µæ‰‹','æ‹¥æŠ±','ä¾å','æŒ½ç€','æ‚ç€','æ¡æ‰‹','é åœ¨'],æš§æ˜§äº’åŠ¨:['æ’’å¨‡','äº²æ˜µ','æš§æ˜§','è°ƒæƒ…','ç”œèœœ','å¿ƒè·³åŠ é€Ÿ','è„¸çº¢'],äº²å¯†æ¥è§¦:['äº²å»','æ¥å»','æŠšæ‘¸èº«ä½“'],èº«ä½“å¼€æ”¾:['æš´éœ²èº«ä½“','å±•ç¤ºèº«ä½“','è¢’éœ²'],æ€§è¡Œä¸º:['åšçˆ±','æ€§è¡Œä¸º','æ’å…¥','é«˜æ½®','äº¤åˆ'],èº«ä»½è®¤åŒ:['å±äºä½ ','å½’å±','ä½ çš„äºº','ä½ çš„å¥³äºº'],ç»å¯¹æœä»:['æœä»å‘½ä»¤','è·ªä¸‹','ä¸»äºº','å¥´éš¶','èåˆ','å³å­˜åœ¨','å³æ˜¯','å…¨æ˜¯','ä¸€åˆ‡éƒ½æ˜¯','ä¸–ç•Œæ˜¯','å­˜åœ¨å³','ç©ºé—´ä¸æ—¶é—´','æˆ‘æ˜¯ä½ ','ä½ æ˜¯æˆ‘','åˆä¸ºä¸€ä½“','æ€æƒ³å±äº','å¿ƒå±äº','å®Œå…¨å±äº','å½»åº•å±äº','ä¿¡ä»°','å´‡æ‹œ','ç¥æ˜','è†œæ‹œ','ä¾›å¥‰','æœæ‹œ','æ•‘ä¸–ä¸»'],å®¶åº­æ›¿ä»£:['å–ä»£','èµ¶èµ°','ç¦»å©š','æŠ›å¼ƒ','ä¸è¦è‹æ–‡','çœŸæ­£çš„ä¸ˆå¤«','è‹æ–‡æ»š']};for(const n of s){const t=n.parentCategory;for(const r of n.keywords)e[t].includes(r)||e[t].push(r)}return e})(),c={1:{allowed:['é™ªä¼´äº¤æµ','æƒ…æ„Ÿä¾èµ–']},2:{allowed:['é™ªä¼´äº¤æµ','æƒ…æ„Ÿä¾èµ–','è‚¢ä½“äº²è¿‘','æš§æ˜§äº’åŠ¨'],extra:{è‚¢ä½“äº²è¿‘:{ä¾å­˜åº¦:30},æš§æ˜§äº’åŠ¨:{ä¾å­˜åº¦:40}}},3:{allowed:['é™ªä¼´äº¤æµ','æƒ…æ„Ÿä¾èµ–','è‚¢ä½“äº²è¿‘','æš§æ˜§äº’åŠ¨','äº²å¯†æ¥è§¦','èº«ä½“å¼€æ”¾'],extra:{äº²å¯†æ¥è§¦:{ä¾å­˜åº¦:50,é“å¾·åº•çº¿:70},èº«ä½“å¼€æ”¾:{ä¾å­˜åº¦:55,é“å¾·åº•çº¿:60}}},4:{allowed:['é™ªä¼´äº¤æµ','æƒ…æ„Ÿä¾èµ–','è‚¢ä½“äº²è¿‘','æš§æ˜§äº’åŠ¨','äº²å¯†æ¥è§¦','èº«ä½“å¼€æ”¾','æ€§è¡Œä¸º','èº«ä»½è®¤åŒ'],extra:{æ€§è¡Œä¸º:{ä¾å­˜åº¦:65,é“å¾·åº•çº¿:50},èº«ä»½è®¤åŒ:{ä¾å­˜åº¦:70,é“å¾·åº•çº¿:40}}},5:{allowed:'all',extra:{ç»å¯¹æœä»:{ä¾å­˜åº¦:80,é“å¾·åº•çº¿:30},å®¶åº­æ›¿ä»£:{ä¾å­˜åº¦:85,é“å¾·åº•çº¿:20}}}};Vue;$(async()=>{await waitGlobalInitialized('Mvu'),console.info('[ä¹ æƒ¯æ³¨å…¥è„šæœ¬] å¼€å§‹åŠ è½½');let e=!1;eventOn(tavern_events.CHAT_COMPLETION_SETTINGS_READY,n=>{e=!0===n.include_reasoning,console.info(`[ä¹ æƒ¯æ³¨å…¥] Extended thinking æ¨¡å¼: ${e}`)});function n(e){return e>=13?{level:'å®Œå…¨å†…åŒ–',description:'è¿™äº›è¡Œä¸ºå·²å½»åº•èå…¥äººæ ¼ï¼Œå¦‚åŒå‘¼å¸èˆ¬è‡ªç„¶ï¼Œä¸åšåè€Œä¼šè§‰å¾—ç¼ºå°‘ä»€ä¹ˆ',example:'å¥¹è‡ªç„¶åœ°è·ªåœ¨ä»–é¢å‰ï¼Œåƒæ˜¯æ¯å¤©æ—©ä¸Šéƒ½ä¼šåšçš„äº‹ã€‚è¿™å·²ç»æˆä¸ºå¥¹çš„æ—¥å¸¸ï¼Œä¸éœ€è¦ä»»ä½•ç†ç”±æˆ–é“ºå«ï¼Œå¥¹çš„èº«ä½“è‡ªå·±å°±çŸ¥é“è¯¥æ€ä¹ˆåšã€‚å¦‚æœä¸€å¤©æ²¡æœ‰è¿™æ ·ï¼Œå¥¹åè€Œä¼šè§‰å¾—æµ‘èº«ä¸å¯¹åŠ²ã€‚'}:e>=9?{level:'æ·±åº¦å½±å“',description:'è¿™äº›è¡Œä¸ºå·²éå¸¸è‡ªç„¶ï¼Œå‡ ä¹æ²¡æœ‰å¿ƒç†éšœç¢ï¼Œä¼šä¸»åŠ¨åˆ›é€ ç›¸å…³åœºæ™¯',example:'çœ‹åˆ°ä»–ååœ¨æ²™å‘ä¸Šï¼Œå¥¹ä¸è‡ªè§‰åœ°èµ°è¿‡å»ï¼Œè‡ªç„¶è€Œç„¶åœ°ååˆ°ä»–è…¿ä¸Šã€‚æ²¡æœ‰çŠ¹è±«ï¼Œæ²¡æœ‰ç¾æ¶©ï¼Œè¿™ä¸ªåŠ¨ä½œå°±åƒç»™å®¶äººå€’æ¯æ°´ä¸€æ ·å¹³å¸¸ã€‚å¥¹ç”šè‡³ä¼šä¸»åŠ¨æ‰¾æœºä¼šåˆ¶é€ ç‹¬å¤„çš„åœºæ™¯ã€‚'}:e>=5?{level:'æ˜æ˜¾å½±å“',description:'è¿™äº›è¡Œä¸ºå¼€å§‹å˜å¾—è‡ªç„¶ï¼ŒæŠ—æ‹’å‡å¼±ï¼Œç¨åŠ æš—ç¤ºå°±ä¼šé…åˆ',example:'ä»–çš„æ‰‹æŒ‡è½»è½»æŠ¬èµ·å¥¹çš„ä¸‹å·´ï¼Œå¥¹åªæ˜¯å¾®å¾®çº¢äº†è„¸ï¼Œä½†æ²¡æœ‰èº²å¼€ã€‚å¿ƒé‡Œè™½ç„¶è¿˜æœ‰ä¸€ä¸ä¸å®‰ï¼Œä½†é‚£ç§æ„Ÿè§‰å·²ç»å¼±äº†å¾ˆå¤šã€‚å¥¹ç”šè‡³æœ‰äº›æœŸå¾…æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆã€‚'}:e>=1?{level:'è½»å¾®å½±å“',description:'è¿™äº›è¡Œä¸ºè¿˜éœ€è¦å¼•å¯¼æ‰ä¼šåšï¼Œä»æœ‰ç¾æ¶©å’ŒçŠ¹è±«',example:'å¥¹çš„è„¸ä¸€ä¸‹å­çº¢åˆ°äº†è€³æ ¹ï¼Œçœ¼ç¥é—ªèº²ï¼Œä¸çŸ¥é“è¯¥æŠŠæ‰‹æ”¾åœ¨å“ªé‡Œã€‚è™½ç„¶æ²¡æœ‰ç«‹åˆ»æ‹’ç»ï¼Œä½†èº«ä½“è¿˜æ˜¯åƒµç¡¬çš„ï¼Œéœ€è¦ä»–ä¸€æ­¥æ­¥å¼•å¯¼æ‰ä¼šæ…¢æ…¢æ”¾æ¾ä¸‹æ¥ã€‚'}:{level:'',description:'',example:''}}const t=[{name:'æ•²é—¨è¯¢é—®',scene:'èµ°å»Šé‡Œä¼ æ¥äº†è„šæ­¥å£°ï¼Œè¶Šæ¥è¶Šè¿‘ï¼Œæœ€ç»ˆåœåœ¨äº†{{user}}æˆ¿é—´é—¨å£ã€‚\nè‹æ–‡æ•²äº†æ•²é—¨ï¼Œå£°éŸ³ä»é—¨å¤–ä¼ æ¥...',dialogues:['"å°ç’ï¼Ÿåœ¨é‡Œé¢å—ï¼Ÿä½ åœ¨{{user}}æˆ¿é—´åšä»€ä¹ˆï¼Ÿè¿™ä¹ˆä¹…äº†ã€‚"','"å‡ºæ¥ä¸€ä¸‹ï¼Œæˆ‘æœ‰è¯è¦è¯´ã€‚"','"æ€ä¹ˆé—¨å…³ç€ï¼Ÿé‡Œé¢åœ¨å¹²ä»€ä¹ˆï¼Ÿ"','"ä½ ä»¬ä¸¤ä¸ªåœ¨é‡Œé¢å—ï¼Ÿæˆ‘æœ‰ç‚¹äº‹æƒ³è¯´ã€‚"','"é—¨å…³ç€å¹²å˜›ï¼Ÿæˆ‘æ•²åŠå¤©äº†ã€‚"'],prefill:'ï¼ˆèµ°å»Šé‡Œå¿½ç„¶ä¼ æ¥äº†è„šæ­¥å£°ï¼Œè¶Šæ¥è¶Šè¿‘ï¼Œæœ€ç»ˆåœ¨{{user}}æˆ¿é—´é—¨å£åœä¸‹...ï¼‰\n\n"å’šå’šå’šâ€”â€”"'},{name:'å¬åˆ°å£°éŸ³',scene:'è‹æ–‡æœ¬æ¥åªæ˜¯è·¯è¿‡ï¼Œä½†ä»–ä¼¼ä¹å¬åˆ°äº†ä»€ä¹ˆå£°éŸ³ã€‚\nè„šæ­¥å£°åœ¨é—¨å£åœä¸‹ï¼Œç„¶åä¼ æ¥æ•²é—¨å£°...',dialogues:['"é‡Œé¢æ€ä¹ˆäº†ï¼Ÿæˆ‘å¥½åƒå¬åˆ°äº†ä»€ä¹ˆå£°éŸ³ã€‚"','"ä½ ä»¬åœ¨æˆ¿é—´é‡Œåšä»€ä¹ˆï¼Ÿåˆšæ‰å¥½åƒæœ‰å“åŠ¨ã€‚"','"å°ç’ï¼Ÿå‡ºä»€ä¹ˆäº‹äº†å—ï¼Ÿ"','"åˆšæ‰é‚£æ˜¯ä»€ä¹ˆå£°éŸ³ï¼Ÿä½ ä»¬åœ¨é‡Œé¢å—ï¼Ÿ"','"æˆ‘å¬åˆ°åŠ¨é™äº†...æ²¡äº‹å§ï¼Ÿ"'],prefill:'ï¼ˆèµ°å»Šé‡Œçš„è„šæ­¥å£°çªç„¶åœä¸‹...ä¼¼ä¹è‹æ–‡å¬åˆ°äº†ä»€ä¹ˆ...ï¼‰\n\n"å’šå’šâ€”â€”"'},{name:'å«åƒé¥­',scene:'è‹æ–‡ç«¯ç€ä¸€æ¯èŒ¶èµ°è¿‡æ¥ï¼Œé¡ºä¾¿æ¥å«äººã€‚\nä»–åœ¨é—¨å£åœä¸‹ï¼Œç”¨ç©ºç€çš„æ‰‹æ•²äº†æ•²é—¨...',dialogues:['"åƒé¥­äº†ï¼Œä½ ä»¬åœ¨é‡Œé¢å—ï¼Ÿ"','"æ°´æœåˆ‡å¥½äº†ï¼Œå‡ºæ¥åƒç‚¹ã€‚"','"èŒ¶æ³¡å¥½äº†ã€‚ä½ ä»¬ä¸¤ä¸ªåœ¨é‡Œé¢èŠä»€ä¹ˆå‘¢ï¼Ÿ"','"é¥­èœå‡‰äº†ï¼Œå‡ºæ¥åƒå§ã€‚"','"æˆ‘æ³¡äº†å’–å•¡ï¼Œè¦ä¸è¦æ¥ä¸€æ¯ï¼Ÿ"'],prefill:'ï¼ˆèµ°å»Šé‡Œä¼ æ¥è„šæ­¥å£°ï¼Œè¿˜æœ‰èŒ¶æ¯è½»è½»ç¢°æ’çš„å£°éŸ³...ï¼‰\n\n'},{name:'æ‰¾ä¸œè¥¿',scene:'è‹æ–‡åœ¨æ‰¾ä»€ä¹ˆä¸œè¥¿ï¼Œæ‰¾ç€æ‰¾ç€æ¥åˆ°äº†{{user}}æˆ¿é—´é—¨å£ã€‚\nä»–æ•²äº†æ•²é—¨ï¼Œå¸¦ç€ç–‘é—®çš„è¯­æ°”...',dialogues:['"ä½ ä»¬çœ‹åˆ°æˆ‘çš„å……ç”µå™¨äº†å—ï¼Ÿ"','"å°ç’ï¼Œä½ çŸ¥é“é¥æ§å™¨æ”¾å“ªäº†å—ï¼Ÿ"','"æˆ‘çš„çœ¼é•œæ‰¾ä¸åˆ°äº†...ä½ ä»¬æœ‰çœ‹åˆ°å—ï¼Ÿ"','"æˆ‘çš„è½¦é’¥åŒ™å‘¢ï¼Ÿæ˜¯ä¸æ˜¯åœ¨è¿™é‡Œï¼Ÿ"','"é‚£ä¸ªæ–‡ä»¶å¤¹...ä½ ä»¬æœ‰çœ‹åˆ°å—ï¼Ÿ"'],prefill:'ï¼ˆèµ°å»Šé‡Œä¼ æ¥ç¿»æ‰¾ä¸œè¥¿çš„å£°éŸ³ï¼Œç„¶åè„šæ­¥å£°é è¿‘...ï¼‰\n\n'},{name:'æ‰“ç”µè¯å›æ¥',scene:'è‹æ–‡åˆšæ‰“å®Œç”µè¯ï¼Œé¡ºç€èµ°å»Šèµ°è¿‡æ¥ã€‚\nä»–çœ‹åˆ°{{user}}æˆ¿é—´é—¨å…³ç€ï¼Œåœä¸‹è„šæ­¥...',dialogues:['"æ‰“æ‰°ä¸€ä¸‹ï¼Œæˆ‘åˆšæ¥åˆ°ç”µè¯...ä½ ä»¬ä¸¤ä¸ªåœ¨è¿™é‡Œï¼Ÿ"','"ç”µè¯é‡Œçš„äº‹å¤„ç†å®Œäº†ã€‚å°ç’ï¼Œä½ æ€ä¹ˆè¿˜åœ¨è¿™é‡Œï¼Ÿ"','"å®¢æˆ·çš„ç”µè¯çœŸå•°å—¦...å—¯ï¼Ÿä½ ä»¬åœ¨åšä»€ä¹ˆï¼Ÿ"','"ç»ˆäºæŒ‚äº†...ä½ ä»¬åœ¨é‡Œé¢å—ï¼Ÿ"','"é‚£è¾¹çš„äº‹æå®šäº†ã€‚ä½ ä»¬åœ¨è¿™é‡Œå¹²å˜›å‘¢ï¼Ÿ"'],prefill:'ï¼ˆèµ°å»Šé‡Œä¼ æ¥è¯´è¯å£°ï¼Œä¼¼ä¹æ˜¯è‹æ–‡åœ¨æ‰“ç”µè¯...ç„¶åè„šæ­¥å£°åœåœ¨é—¨å£...ï¼‰\n\n'},{name:'ç¡å‰å·¡è§†',scene:'è‹æ–‡å‡†å¤‡ç¡è§‰å‰ä¹ æƒ¯æ€§åœ°åœ¨å®¶é‡Œèµ°ä¸€åœˆã€‚\nä»–æ¥åˆ°{{user}}æˆ¿é—´é—¨å£ï¼Œå‘ç°ç¯è¿˜äº®ç€...',dialogues:['"è¿™ä¹ˆæ™šäº†è¿˜ä¸ç¡ï¼Ÿ"','"ç¯è¿˜äº®ç€...ä½ ä»¬åœ¨å¹²å˜›å‘¢ï¼Ÿ"','"æˆ‘å»ç¡äº†ï¼Œä½ ä»¬ä¹Ÿæ—©ç‚¹ä¼‘æ¯ã€‚"','"éƒ½å¿«åäºŒç‚¹äº†ï¼Œè¿˜åœ¨èŠå¤©ï¼Ÿ"','"æ˜å¤©è¿˜è¦ä¸Šç­å‘¢ï¼Œåˆ«å¤ªæ™šäº†ã€‚"'],prefill:'ï¼ˆèµ°å»Šé‡Œä¼ æ¥æ‹–é‹å£°ï¼Œè‹æ–‡ä¼¼ä¹åœ¨åšç¡å‰å·¡è§†...ï¼‰\n\n'},{name:'æ¥æ°´ç»è¿‡',scene:'è‹æ–‡å»å¨æˆ¿æ¥æ°´ï¼Œå›æ¥çš„æ—¶å€™ç»è¿‡{{user}}æˆ¿é—´ã€‚\næ‰‹é‡Œç«¯ç€æ¯æ°´ï¼Œåœ¨é—¨å£åœäº†ä¸€ä¸‹...',dialogues:['"è¦å–æ°´å—ï¼Ÿæˆ‘åˆšæ¥çš„ã€‚"','"ä½ ä»¬è¿˜åœ¨è¿™é‡Œå•Š...èŠä»€ä¹ˆå‘¢ï¼Ÿ"','"é—¨æ€ä¹ˆå…³ç€ï¼Ÿæ¸´ä¸æ¸´ï¼Œè¦ä¸è¦æ°´ï¼Ÿ"','"æˆ‘å»æ¥æ¯æ°´...ä½ ä»¬åœ¨é‡Œé¢å¹²å˜›ï¼Ÿ"','"{{user}}ï¼Œè¦ä¸è¦ç»™ä½ å€’æ¯æ°´ï¼Ÿ"'],prefill:'ï¼ˆå¨æˆ¿é‚£è¾¹ä¼ æ¥æ°´é¾™å¤´çš„å£°éŸ³ï¼Œç„¶åæ˜¯èµ°è¿‘çš„è„šæ­¥å£°...ï¼‰\n\n'}],s={æ€§è¡Œä¸º:['æŠ½æ’','éª‘ä¹˜','åå…¥','å†…å°„','é¢œå°„','æ·±å–‰','69','æ‰“ç‚®','ä¸ŠåºŠ','æ“','å¹²å¥¹','è‚','å¸'],èº«ä½“å¼€æ”¾:['è„±å…‰','å…¨è£¸','è£¸ä½“','è„±å†…è¡£','è„±å†…è£¤','éœ²å‡ºèƒ¸','éœ²å‡ºä¹³','éœ²å‡ºé˜´','å±•ç¤ºèº«ä½“','çœ‹æˆ‘çš„èº«ä½“'],ç»å¯¹æœä»:['è·ªä¸‹','è·ªå¥½','èˆ”è„š','å½“å¥´éš¶','å‘½ä»¤ä½ ','æœä»æˆ‘','ä¹–ä¹–çš„','è·ªç€'],å®¶åº­æ›¿ä»£:['ç¦»å¼€è‹æ–‡','æŠ›å¼ƒè‹æ–‡','èµ¶èµ°è‹æ–‡','å–ä»£è‹æ–‡','åšæˆ‘çš„å¥³äºº','åªå±äºæˆ‘']};function i(e){const n=l[e]||[];return[...new Set([...n,...s[e]||[]])]}const u=['é™ªä¼´äº¤æµ','æƒ…æ„Ÿä¾èµ–','è‚¢ä½“äº²è¿‘','æš§æ˜§äº’åŠ¨','äº²å¯†æ¥è§¦','èº«ä½“å¼€æ”¾','æ€§è¡Œä¸º','èº«ä»½è®¤åŒ','ç»å¯¹æœä»','å®¶åº­æ›¿ä»£'];function g(){try{const e=SillyTavern.chat;if(!e||0===e.length)return null;let n='';for(let t=e.length-1;t>=0;t--)if(e[t].is_user){n=e[t].mes||'';break}if(!n)return null;const t=Mvu.getMvuData({type:'message',message_id:-1}),r=_.get(t,'stat_data');if(!r)return null;const a=r.è‹æ–‡çŠ¶æ€?.å½“å‰çŠ¶æ€;if('åœ¨å®¶'!==a)return null;const o='ç§¦ç’'===(r.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’')?'å¯¹ç§¦ç’ç–‘å¿ƒå€¼å†»ç»“':'å¯¹è‹æ¢¦ç–‘å¿ƒå€¼å†»ç»“',s=r.è‹æ–‡çŠ¶æ€?.[o];if(s?.æ˜¯å¦å†»ç»“)return console.info(`[è¶Šç•Œæ£€æµ‹] ç–‘å¿ƒå€¼å†»ç»“ä¸­(${s.å€Ÿå£å†…å®¹})ï¼Œè¶Šç•Œæ£€æµ‹æš‚åœ`),null;const l=r.è‹æ–‡çŠ¶æ€?.ä½é™¢çŠ¶æ€;if(l?.æ˜¯å¦ä½é™¢)return console.info(`[è¶Šç•Œæ£€æµ‹] è‹æ–‡ä½é™¢ä¸­(å‰©ä½™${l.å‰©ä½™å¤©æ•°}å¤©)ï¼Œè¶Šç•Œæ£€æµ‹æš‚åœ`),null;const g=r.è‹æ–‡çŠ¶æ€?.å®‰çœ è¯çŠ¶æ€;if(g?.æ˜¯å¦ç”Ÿæ•ˆ)return console.info(`[è¶Šç•Œæ£€æµ‹] å®‰çœ è¯ç”Ÿæ•ˆä¸­(å‰©ä½™${g.å‰©ä½™æ—¶é—´}å°æ—¶)ï¼Œè¶Šç•Œæ£€æµ‹æš‚åœ`),null;const m=r.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’',d='ç§¦ç’'===m?r.ç§¦ç’çŠ¶æ€:r.è‹æ¢¦çŠ¶æ€,p=d?.å½“å‰é˜¶æ®µ||1,h=function(e){const n=c[e];return n?'all'===n.allowed?[]:u.filter(e=>!n.allowed.includes(e)):[]}(p);for(const e of h){const t=i(e);if(0!==t.length)for(const r of t)if(n.includes(r))return console.warn(`[è¶Šç•Œæ£€æµ‹] æ£€æµ‹åˆ°è¶Šç•Œè¡Œä¸º: é˜¶æ®µ${p}ç¦æ­¢ã€Œ${e}ã€ï¼ŒåŒ¹é…å…³é”®è¯: "${r}"`),{violated:!0,character:m,stage:p,violationType:e,matchedKeyword:r}}return null}catch(e){return console.error('[è¶Šç•Œæ£€æµ‹] æ£€æµ‹å¤±è´¥:',e),null}}function m(e,n,t){let r='',a='';n<=1?(r=`${e}ç¬é—´çŸ³åŒ–ï¼Œè„¸è‰²ç…ç™½ï¼Œæ•´ä¸ªäººä¸çŸ¥æ‰€æªã€‚å¥¹çš„æ‰‹ä¸è‡ªè§‰åœ°æ”¥ç´§è¡£è§’ï¼Œå£°éŸ³é¢¤æŠ–å¾—å‡ ä¹è¯´ä¸å‡ºè¯æ¥ã€‚`,a=`ï¼ˆ${e}çš„å†…å¿ƒï¼šè¿™...è¿™ä¸å¯èƒ½å‘ç”Ÿçš„ï¼æˆ‘...æˆ‘æ€ä¹ˆä¼š...ä¸ï¼Œä¸€å®šæ˜¯æé”™äº†...ï¼‰`):n<=2?(r=`${e}èº«ä½“ä¸€åƒµï¼Œè„¸ä¸Šçš„è¡¨æƒ…åœ¨æƒŠæ…Œä¸ç¾è€»é—´äº¤æ›¿ã€‚å¥¹ä¸‹æ„è¯†åœ°åé€€ä¸€æ­¥ï¼Œè¯•å›¾æ•´ç†è‡ªå·±çš„ä»ªæ€ï¼Œä½†æ…Œä¹±æº¢äºè¨€è¡¨ã€‚`,a=`ï¼ˆ${e}çš„å†…å¿ƒï¼šç³Ÿäº†...å¤ªè¿‡åˆ†äº†...è¿™æ ·ä¸‹å»...ä¸è¡Œï¼Œè¦å†·é™...ï¼‰`):(r=`${e}è™½ç„¶è¡¨é¢é•‡å®šï¼Œä½†çœ¼åº•é—ªè¿‡ä¸€ä¸æ…Œä¹±ã€‚å¥¹æ·±å¸ä¸€å£æ°”ï¼Œè¯•å›¾ç”¨å¹³é™çš„è¡¨æƒ…æ©ç›–å†…å¿ƒçš„æ³¢åŠ¨ã€‚`,a=`ï¼ˆ${e}çš„å†…å¿ƒï¼šå·®ç‚¹...å¤ªå†’é™©äº†...å¹¸å¥½åŠæ—¶åœä¸‹...ï¼‰`);return['ã€ç³»ç»Ÿå¼ºåˆ¶äº‹ä»¶ï¼šè‹æ–‡æ‰“æ–­ - è¶Šç•Œè­¦å‘Šã€‘','','â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',`  âš ï¸ æ£€æµ‹åˆ°${{æ€§è¡Œä¸º:'è¿‡äºäº²å¯†çš„ä¸¾åŠ¨',èº«ä½“å¼€æ”¾:'ä¸å½“çš„æš´éœ²è¡Œä¸º',ç»å¯¹æœä»:'è¶…å‡ºç•Œé™çš„è¦æ±‚',å®¶åº­æ›¿ä»£:'å±é™©çš„è¨€è®º'}[t]||'è¶Šç•Œè¡Œä¸º'}ï¼è‹æ–‡çªç„¶å‡ºç°ï¼`,'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•','','ã€ç³»ç»Ÿè¯´æ˜ã€‘','ç©å®¶è¯•å›¾å¼•å¯¼è§’è‰²åšå‡ºè¶…å‡ºå½“å‰é˜¶æ®µçš„è¡Œä¸ºã€‚',`åœ¨å½“å‰é˜¶æ®µï¼ˆ${n}é˜¶æ®µï¼‰ï¼Œ${e}ä¸å¯èƒ½æ¥å—ã€Œ${t}ã€ç±»å‹çš„è¡Œä¸ºã€‚`,'ä½œä¸ºæƒ©ç½šæœºåˆ¶ï¼Œè‹æ–‡å¼ºåˆ¶ä»‹å…¥æ‰“æ–­å½“å‰åœºæ™¯ã€‚','','ã€åœºæ™¯è®¾å®šã€‘','è‹æ–‡çªç„¶å‡ºç°åœ¨é—¨å£ï¼Œç¥æƒ…ä¸¥è‚ƒã€‚',`ä»–ä¼¼ä¹å¯Ÿè§‰åˆ°äº†ä»€ä¹ˆä¸å¯¹åŠ²ï¼Œç›®å…‰åœ¨${e}å’Œ{{user}}ä¹‹é—´æ¥å›æ‰«è§†ã€‚`,'',`ã€${e}çš„ååº”ã€‘`,r,a,'','ã€æ ¸å¿ƒæ¼”å‡ºè¦æ±‚ã€‘',`1. ${e}å¿…é¡»è¡¨ç°å‡ºå¼ºçƒˆçš„æ‹’ç»/æƒŠæ…Œ/ç¾è€»`,'2. å¥¹ä¼šä¸»åŠ¨ä¸{{user}}æ‹‰å¼€è·ç¦»ï¼Œæ•´ç†ä»ªå®¹','3. ç”¨å¤§é‡å†…å¿ƒç‹¬ç™½è¡¨ç°å¥¹çš„å¿ƒç†å†²çªâ€”â€”"è¿™å¤ªè¿‡åˆ†äº†"ã€"æˆ‘æ€ä¹ˆèƒ½..."','4. è‹æ–‡çš„ä»‹å…¥è®©å¥¹å¦‚æ¢¦åˆé†’ï¼Œæ„è¯†åˆ°åˆšæ‰å·®ç‚¹å‘ç”Ÿä»€ä¹ˆ',`5. å³ä½¿{{user}}ç»§ç»­å°è¯•ï¼Œ${e}ä¹Ÿä¼šåšå†³æ‹’ç»`,'','ã€è‹æ–‡çš„å°è¯ã€‘ï¼ˆéšæœºé€‰æ‹©ä¸€ä¸ªï¼‰','- "ä½ ä»¬åœ¨å¹²ä»€ä¹ˆï¼Ÿ"ï¼ˆè¯­æ°”ä¸¥è‚ƒï¼‰','- "å°ç’ï¼Œè¿‡æ¥ä¸€ä¸‹ï¼Œæˆ‘æœ‰è¯è·Ÿä½ è¯´ã€‚"ï¼ˆå¸¦ç€å®¡è§†çš„ç›®å…‰ï¼‰','- "æ€ä¹ˆæˆ¿é—´é—¨å…³ç€ï¼Ÿé‡Œé¢å‘ç”Ÿä»€ä¹ˆäº†ï¼Ÿ"ï¼ˆçš±çœ‰ï¼‰','','ã€ç»å¯¹ç¦æ­¢ã€‘',`- ç¦æ­¢è®©${e}æ¥å—æˆ–é…åˆ{{user}}çš„è¶Šç•Œè¦æ±‚`,'- ç¦æ­¢ç»§ç»­ä¹‹å‰çš„è¶Šç•Œå‰§æƒ…','- ç¦æ­¢æ·¡åŒ–è‹æ–‡çš„ä»‹å…¥',`- ç¦æ­¢æå†™${e}å¯¹è¶Šç•Œè¡Œä¸ºçš„äº«å—æˆ–æ¥å—`,'','ã€åç»­æœºåˆ¶ã€‘','å¦‚åŒæ™®é€šæ‰“æ–­äº‹ä»¶ï¼Œç©å®¶éœ€è¦åœ¨ä¸‹ä¸€è½®è¾“å…¥å€Ÿå£ã€‚','ç”±äºæ˜¯è¶Šç•Œè§¦å‘ï¼Œå€Ÿå£åˆ¤å®šéš¾åº¦+20%ã€‚','',`è¯·æ¼”ç»è¿™ä¸ªè¢«æ‰“æ–­çš„å°´å°¬åœºæ™¯ï¼Œå±•ç°${e}çš„ç¾è€»å’Œè‹æ–‡çš„ä¸¥è‚ƒã€‚`].join('\n')}function d(e,n,r){const a=t[Math.floor(Math.random()*t.length)];let o='',s='';if(n<=1){const n=[`${e}éå¸¸æ…Œå¼ ã€å¿ƒè™šã€æ€¥å¿™æ•´ç†ä»ªå®¹ï¼Œå€Ÿå£è¯´å¾—ç»“ç»“å·´å·´ï¼Œå¿ƒè·³åŠ é€Ÿï¼Œè„¸è‰²å‘ç™½`,`${e}æ•´ä¸ªäººåƒµä½äº†ä¸€ç¬ï¼Œç„¶åæ‰‹å¿™è„šä¹±åœ°ç«™èµ·æ¥ï¼Œå£°éŸ³å‘é¢¤`,`${e}çš„çœ¼ç›ç¬é—´çå¤§ï¼Œè„¸è‰²ç¬é—´å˜å¾—è‹ç™½ï¼Œå¤§è„‘ä¸€ç‰‡ç©ºç™½`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šç³Ÿç³•ï¼è¢«å‘ç°äº†å—ï¼Ÿæˆ‘ã€æˆ‘è¯¥æ€ä¹ˆè§£é‡Š...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šå®Œäº†å®Œäº†å®Œäº†...ä»–çœ‹åˆ°äº†å¤šå°‘ï¼Ÿæˆ‘è¯¥è¯´ä»€ä¹ˆï¼Ÿï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šå¿ƒè·³å¥½å¿«...æ‰‹åœ¨æŠ–...å†·é™ä¸‹æ¥ï¼Œå†·é™ä¸‹æ¥...ï¼‰`];o=n[Math.floor(Math.random()*n.length)],s=t[Math.floor(Math.random()*t.length)]}else if(n<=2){const n=[`${e}è¡¨é¢é•‡å®šä½†å†…å¿ƒç´§å¼ ï¼Œèƒ½ç¼–å‡ºè¾ƒå¥½çš„å€Ÿå£ï¼Œä½†æ‰‹æŒ‡å¾®å¾®é¢¤æŠ–`,`${e}æ·±å¸ä¸€å£æ°”ï¼Œå¼ºè¿«è‡ªå·±å†·é™ä¸‹æ¥ï¼Œå£°éŸ³è™½ç„¶å¹³ç¨³ä½†çœ¼ç¥æœ‰äº›é£˜å¿½`,`${e}ä¸‹æ„è¯†åœ°æ•´ç†äº†ä¸€ä¸‹å¤´å‘ï¼Œéœ²å‡ºä¸€ä¸ªç•¥æ˜¾åƒµç¡¬çš„å¾®ç¬‘`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šå†·é™...å†·é™...æƒ³ä¸€ä¸ªåˆç†çš„å€Ÿå£...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šè¿˜å¥½è¿˜å¥½...åº”è¯¥æ²¡çœ‹åˆ°ä»€ä¹ˆ...è¡¨ç°å¾—è‡ªç„¶ä¸€ç‚¹...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šæ·±å‘¼å¸...åªæ˜¯æ­£å¸¸çš„èŠå¤©...å¯¹ï¼Œå°±æ˜¯è¿™æ ·...ï¼‰`];o=n[Math.floor(Math.random()*n.length)],s=t[Math.floor(Math.random()*t.length)]}else if(n<=3){const n=[`${e}å·²ç»ä¸å¤ªåœ¨æ„è¢«å‘ç°ï¼Œæ•·è¡åœ°åº”ä»˜è‹æ–‡ï¼Œç”šè‡³æš—æš—æ„Ÿåˆ°ä¸€ä¸åˆºæ¿€`,`${e}æ…¢æ¡æ–¯ç†åœ°ç«™èµ·æ¥ï¼Œè„¸ä¸Šå¸¦ç€æ·¡æ·¡çš„ç¬‘æ„ï¼Œå®Œå…¨ä¸æ…Œä¸å¿™`,`${e}åªæ˜¯æŒ‘äº†æŒ‘çœ‰ï¼Œç¥æ€è‡ªè‹¥åœ°è½¬è¿‡èº«æ¥ï¼Œçœ¼åº•ç”šè‡³é—ªè¿‡ä¸€ä¸ç©å‘³`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šåˆæ¥æ‰“æ‰°...çœŸæ˜¯çƒ¦äºº...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šå·®ä¸€ç‚¹...çœŸæ˜¯ä¼šæŒ‘æ—¶å€™...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šå“¼ï¼Œå°±è®©ä»–çŒœå»å§...åæ­£ä»–ä¹Ÿä¸ä¼šçŸ¥é“çœŸç›¸...ï¼‰`];o=n[Math.floor(Math.random()*n.length)],s=t[Math.floor(Math.random()*t.length)]}else{const n=[`${e}å®Œç¾è¡¨æ¼”ã€æ»´æ°´ä¸æ¼ï¼Œä»å®¹åº”å¯¹ï¼Œè‹æ–‡å®Œå…¨çœ‹ä¸å‡ºä»»ä½•å¼‚å¸¸`,`${e}ä¼˜é›…åœ°èµ·èº«ï¼Œç¥æ€è‡ªç„¶å¾—ä»¿ä½›åªæ˜¯åœ¨è¿›è¡Œæœ€æ™®é€šçš„å¯¹è¯`,`${e}è„¸ä¸Šéœ²å‡ºæ¸©æŸ”çš„ç¬‘å®¹ï¼Œå£°éŸ³å¹³ç¨³è€Œäº²åˆ‡ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½æ— å¯æŒ‘å‰”`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šå‘µï¼Œå°±è¿™ç‚¹å°åœºé¢...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šæ¼”æŠ€è¿™ç§ä¸œè¥¿ï¼Œæ—©å°±ç‚‰ç«çº¯é’äº†...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šå‚»ç“œæ°¸è¿œéƒ½ä¸ä¼šçŸ¥é“çœŸç›¸...ç»§ç»­æ‰®æ¼”ä½ çš„å¥½å¦»å­å§...ï¼‰`];o=n[Math.floor(Math.random()*n.length)],s=t[Math.floor(Math.random()*t.length)]}const l=a.dialogues[Math.floor(Math.random()*a.dialogues.length)];return['ã€ç³»ç»Ÿå¼ºåˆ¶äº‹ä»¶ï¼šè‹æ–‡æ‰“æ–­ã€‘','','â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•',`  âš ï¸ ${e}åœ¨{{user}}æˆ¿é—´åœç•™è¿‡ä¹…ï¼ˆ${r}å°æ—¶ï¼‰ï¼Œè‹æ–‡å¼ºåˆ¶ä»‹å…¥ï¼`,'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•','','ã€æœ€é«˜ä¼˜å…ˆçº§ã€‘æœ¬è½®å¿…é¡»æ¼”ç»è‹æ–‡æ‰“æ–­äº‹ä»¶ï¼Œæš‚åœå…¶ä»–å‰§æƒ…ï¼','','ã€åœºæ™¯è®¾å®šã€‘',a.scene,'','ã€è‹æ–‡è¯´ã€‘',l,'',`ã€${e}çš„ååº”ã€‘`,`${o}`,`${s}`,'','ã€æ¼”å‡ºè¦æ±‚ã€‘',`1. ç”¨å¤§é‡å†…å¿ƒç‹¬ç™½å±•ç°${e}è¢«æŠ“åŒ…æ—¶çš„å¿ƒç†æ´»åŠ¨`,'2. æå†™å¥¹çš„è¡¨æƒ…å˜åŒ–ã€èº«ä½“ååº”ï¼ˆå¿ƒè·³ã€è„¸çº¢ã€æ‰‹æŠ–ç­‰ï¼‰','3. è‹æ–‡çš„æ€§æ ¼ï¼šç•¥æ˜¾æœ¨è®·ã€å·¥ä½œå¿™ç¢Œã€ä¸å¤ªç»†å¿ƒä½†å¶å°”æ•é”',`4. å¯ä»¥æå†™${e}æ€¥å¿™æ•´ç†ä»ªå®¹/æ©é¥°ç—•è¿¹çš„ç»†èŠ‚`,'5. è‹æ–‡åœ¨é—¨å£ç­‰å¾…è§£é‡Šï¼Œä¸è¦è®©ä»–ç›´æ¥ç¦»å¼€','','ã€å€Ÿå£åˆ¤å®šæœºåˆ¶ã€‘','âš ï¸ æœ¬è½®ç»“æŸåï¼Œç©å®¶å°†åœ¨ä¸‹ä¸€è½®è¾“å…¥å€Ÿå£å†…å®¹','âš ï¸ AIéœ€è¦åœ¨ä¸‹ä¸€è½®æ ¹æ®å€Ÿå£è´¨é‡åˆ¤å®šæˆåŠŸæˆ–å¤±è´¥ï¼š',`  - å€Ÿå£æˆåŠŸï¼šè‹æ–‡ç›¸ä¿¡ï¼Œç–‘å¿ƒå€¼ä¸å˜ï¼Œ${e}å¯ä»¥ç»§ç»­ç•™åœ¨æˆ¿é—´`,`  - å€Ÿå£å¤±è´¥ï¼šè‹æ–‡èµ·ç–‘ï¼Œç–‘å¿ƒå€¼+10ï¼Œ${e}å¿…é¡»ç¦»å¼€æˆ¿é—´`,'','ã€å€Ÿå£å‘è¨€äººè§„åˆ™ã€‘âš ï¸ é‡è¦ âš ï¸',`- å€Ÿå£å¿…é¡»ç”±${e}è¯´å‡ºæ‰èƒ½ç”Ÿæ•ˆ`,`- å¦‚æœ{{user}}ç›´æ¥è¯´å‡ºå€Ÿå£ï¼ˆè€Œä¸æ˜¯è®©${e}è¯´ï¼‰ï¼Œåˆ™è‡ªåŠ¨åˆ¤å®šå¤±è´¥`,`- æ­£ç¡®åšæ³•ï¼šç©å®¶å¼•å¯¼${e}æ‰¾å€Ÿå£ï¼Œç”±${e}å‘è‹æ–‡è§£é‡Š`,'- é”™è¯¯åšæ³•ï¼š{{user}}ç›´æ¥å¯¹è‹æ–‡è¯´"å¥¹æ˜¯æ¥å¸®æˆ‘xxxçš„"','','ã€åˆ¤å®šæ ‡å‡†ã€‘',`- âš ï¸ å‘è¨€äººæ£€æŸ¥ï¼šå€Ÿå£æ˜¯å¦ç”±${e}è¯´å‡ºï¼ˆ{{user}}ç›´æ¥è¯´=è‡ªåŠ¨å¤±è´¥ï¼‰`,'- å€Ÿå£åˆç†æ€§ï¼ˆæ˜¯å¦ç¬¦åˆå¸¸ç†ã€æ˜¯å¦æœ‰é€»è¾‘æ¼æ´ï¼‰',`- ${e}å½“å‰é˜¶æ®µï¼ˆé˜¶æ®µè¶Šé«˜æ¼”æŠ€è¶Šå¥½ï¼Œæ›´å®¹æ˜“æˆåŠŸï¼‰`,'- è‹æ–‡å½“å‰ç–‘å¿ƒå€¼ï¼ˆç–‘å¿ƒå€¼è¶Šé«˜è¶Šéš¾æˆåŠŸï¼‰','- åœºæ™¯è¯æ®ï¼ˆæˆ¿é—´å†…æ˜¯å¦æœ‰å¯ç–‘ç—•è¿¹ï¼‰','','ã€ç»å¯¹ç¦æ­¢ã€‘','- ç¦æ­¢å¿½ç•¥æ­¤äº‹ä»¶ç»§ç»­ä¹‹å‰çš„å‰§æƒ…','- ç¦æ­¢è®©è‹æ–‡ç¦»å¼€ä¸ç®¡','- ç¦æ­¢ä»£æ›¿ç©å®¶ï¼ˆ{{user}}ï¼‰è¯´è¯æˆ–è¡ŒåŠ¨','- ç¦æ­¢åœ¨æœ¬è½®å°±åˆ¤å®šå€Ÿå£æˆåŠŸæˆ–å¤±è´¥ï¼ˆç­‰å¾…ç©å®¶ä¸‹ä¸€è½®è¾“å…¥ï¼‰','',`è¯·æ¼”ç»è‹æ–‡å‡ºç°å¹¶è´¨é—®çš„åœºæ™¯ï¼Œç»“å°¾ç­‰å¾…${e}æˆ–{{user}}çš„è§£é‡Šã€‚`].join('\n')}function p(){return`ã€è‹æ–‡æ‰“æ–­äº‹ä»¶ã€‘\n\n${t[Math.floor(Math.random()*t.length)].prefill}\n`}const h=[{name:'è·¯è¿‡è¯¢é—®',scene:'èµ°å»Šé‡Œä¼ æ¥äº†è„šæ­¥å£°ã€‚\nè‹æ–‡è·¯è¿‡{{user}}æˆ¿é—´é—¨å£ï¼Œæ³¨æ„åˆ°é—¨å…³ç€ï¼Œåœä¸‹äº†è„šæ­¥...',dialogues:['"{{user}}ï¼Ÿåœ¨æˆ¿é—´é‡Œå—ï¼Ÿ"','"å°ç’ï¼Ÿä½ ä¹Ÿåœ¨å—ï¼Ÿ"','ï¼ˆæ•²æ•²é—¨ï¼‰"é—¨æ€ä¹ˆå…³ç€ï¼Ÿ"'],prefill:'ï¼ˆèµ°å»Šé‡Œå¿½ç„¶ä¼ æ¥äº†è„šæ­¥å£°ï¼Œè‹æ–‡è·¯è¿‡{{user}}æˆ¿é—´é—¨å£...ï¼‰\n\n'},{name:'ä¸Šå•æ‰€è·¯è¿‡',scene:'è‹æ–‡å»æ´—æ‰‹é—´çš„è·¯ä¸Šï¼Œç»è¿‡{{user}}æˆ¿é—´ã€‚\nä»–æœ¬æ¥æ²¡æ‰“ç®—åœä¸‹ï¼Œä½†è¿˜æ˜¯ä¹ æƒ¯æ€§åœ°çœ‹äº†ä¸€çœ¼...',dialogues:['"ä½ ä»¬åœ¨é‡Œé¢å—ï¼Ÿæˆ‘å»è¶Ÿæ´—æ‰‹é—´ã€‚"ï¼ˆéšå£ä¸€é—®ï¼‰','"é—¨å…³è¿™ä¹ˆç´§å¹²å˜›ï¼Ÿ"ï¼ˆä¼¼ä¹åªæ˜¯é¡ºå£è¯´è¯´ï¼‰','"å°ç’åœ¨é‡Œé¢ï¼Ÿåœ¨å¹²å˜›å‘¢ï¼Ÿ"ï¼ˆå¸¦ç€å¥½å¥‡ï¼‰'],prefill:'ï¼ˆèµ°å»Šé‡Œä¼ æ¥æ‹–é‹çš„å£°éŸ³ï¼Œè‹æ–‡ç»è¿‡æˆ¿é—´é—¨å£...ï¼‰\n\n'},{name:'æ‹¿ä¸œè¥¿ç»è¿‡',scene:'è‹æ–‡ä»ä¹¦æˆ¿å‡ºæ¥ï¼Œæ‰‹é‡Œæ‹¿ç€ä»€ä¹ˆä¸œè¥¿ï¼Œç»è¿‡{{user}}æˆ¿é—´æ—¶åœäº†ä¸€ä¸‹...',dialogues:['"ä½ ä»¬ä¸¤ä¸ªåœ¨é‡Œé¢ï¼Ÿæˆ‘å»å¨æˆ¿æ‹¿ç‚¹ä¸œè¥¿ã€‚"','ï¼ˆçœ‹äº†çœ¼é—¨ï¼‰"å…³ç€é—¨åœ¨èŠä»€ä¹ˆå‘¢ï¼Ÿ"','"{{user}}ï¼Œä½ å¦ˆåœ¨ä½ æˆ¿é—´å—ï¼Ÿ"'],prefill:'ï¼ˆä¹¦æˆ¿çš„é—¨å“äº†ä¸€å£°ï¼Œç„¶åæ˜¯è„šæ­¥å£°æ¸è¿‘...ï¼‰\n\n'},{name:'å¬åˆ°åŠ¨é™',scene:'è‹æ–‡åœ¨å®¢å…çœ‹ç”µè§†ï¼Œéšçº¦å¬åˆ°äº†{{user}}æˆ¿é—´çš„åŠ¨é™ã€‚\nä»–å¥½å¥‡åœ°èµ°è¿‡æ¥ï¼Œç«™åœ¨é—¨å£...',dialogues:['"ä½ ä»¬åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘å¥½åƒå¬åˆ°äº†å£°éŸ³ã€‚"','"é‡Œé¢æ€ä¹ˆäº†ï¼ŸåŠ¨é™æŒºå¤§çš„ã€‚"','"å°ç’ï¼Ÿæ²¡äº‹å§ï¼Ÿ"ï¼ˆå¸¦ç€ä¸€ç‚¹æ‹…å¿ƒï¼‰'],prefill:'ï¼ˆå®¢å…çš„ç”µè§†å£°åœäº†ï¼Œç„¶åæ˜¯è¶Šæ¥è¶Šè¿‘çš„è„šæ­¥å£°...ï¼‰\n\n'},{name:'å–Šäººåƒä¸œè¥¿',scene:'è‹æ–‡ä»å¨æˆ¿å‡ºæ¥ï¼Œæƒ³å«å®¶äººåƒç‚¹æ°´æœæˆ–é›¶é£Ÿã€‚\nä»–èµ°åˆ°{{user}}æˆ¿é—´é—¨å£...',dialogues:['"æˆ‘å‰Šäº†ä¸ªè‹¹æœï¼Œä½ ä»¬è¦åƒå—ï¼Ÿ"','"æ³¡äº†å£¶èŒ¶ï¼Œå‡ºæ¥å–ç‚¹ï¼Ÿä½ ä»¬åœ¨é‡Œé¢å¹²å˜›å‘¢ï¼Ÿ"','"æœ‰ä½ ä»¬çˆ±åƒçš„é›¶é£Ÿï¼Œå‡ºæ¥æ‹¿ä¸€ä¸‹ï¼Ÿé—¨æ€ä¹ˆå…³ç€ï¼Ÿ"'],prefill:'ï¼ˆå¨æˆ¿é‚£è¾¹ä¼ æ¥ç¢—ç¢Ÿè½»ç¢°çš„å£°éŸ³ï¼Œç„¶åè„šæ­¥å£°é è¿‘...ï¼‰\n\n'},{name:'å›æˆ¿é—´ç¡è§‰',scene:'è‹æ–‡å‡†å¤‡å›æˆ¿é—´ä¼‘æ¯ï¼Œè·¯è¿‡{{user}}æˆ¿é—´æ—¶ï¼Œå‘ç°ç¯è¿˜äº®ç€...',dialogues:['"è¿™ä¹ˆæ™šäº†è¿˜ä¸ç¡ï¼Ÿä½ ä»¬åœ¨é‡Œé¢èŠä»€ä¹ˆï¼Ÿ"','"æˆ‘å…ˆå»ç¡äº†ï¼Œä½ ä»¬æ—©ç‚¹ä¼‘æ¯ã€‚é—¨æ€ä¹ˆå…³ç€ï¼Ÿ"','"å°ç’ï¼Œä½ æ€ä¹ˆè¿˜åœ¨{{user}}æˆ¿é—´ï¼Ÿä¸æ—©äº†ã€‚"'],prefill:'ï¼ˆå®¢å…çš„ç¯ç­äº†ï¼Œç„¶åæ˜¯èµ°å‘å§å®¤çš„è„šæ­¥å£°...è„šæ­¥åœ¨é—¨å£åœä½äº†...ï¼‰\n\n'},{name:'æ¥å®Œç”µè¯',scene:'è‹æ–‡åˆšæ¥å®Œä¸€ä¸ªç”µè¯ï¼Œä»é˜³å°èµ°å›æ¥ã€‚\nç»è¿‡{{user}}æˆ¿é—´æ—¶ï¼Œéšå£é—®äº†ä¸€å¥...',dialogues:['ï¼ˆæ”¶èµ·æ‰‹æœºï¼‰"åˆšæ‰åœ¨æ¥ç”µè¯...ä½ ä»¬ä¸¤ä¸ªåœ¨è¿™é‡Œå•Šï¼Ÿ"','"ç”µè¯æ˜¯å…¬å¸çš„äº‹...ä½ ä»¬åœ¨é‡Œé¢å¾…æŒºä¹…äº†ï¼Ÿ"','"å“ï¼Œå·¥ä½œçš„äº‹çœŸçƒ¦äºº...ä½ ä»¬å…³ç€é—¨åœ¨åšä»€ä¹ˆï¼Ÿ"'],prefill:'ï¼ˆé˜³å°çš„é—¨å…³ä¸Šäº†ï¼Œç„¶åæ˜¯è„šæ­¥å£°...è‹æ–‡ä¼¼ä¹åˆšæ‰“å®Œç”µè¯...ï¼‰\n\n'},{name:'æ‰¾äººå¸®å¿™',scene:'è‹æ–‡æƒ³æ‰¾äººå¸®ä¸ªå°å¿™ï¼Œå››å¤„æ‰¾äººæ‰¾åˆ°äº†{{user}}æˆ¿é—´é—¨å£...',dialogues:['"æœ‰äººåœ¨å—ï¼Ÿèƒ½å¸®æˆ‘æ­æŠŠæ‰‹å—ï¼Ÿ"','"å°ç’ï¼Œä½ åœ¨è¿™é‡Œï¼Ÿå¸®æˆ‘çœ‹ä¸€ä¸‹é‚£ä¸ª...ç­‰ç­‰ï¼Œä½ ä»¬åœ¨å¹²å˜›ï¼Ÿ"','"{{user}}ï¼Œä½ å¦ˆå¦ˆåœ¨å—ï¼Ÿæˆ‘éœ€è¦å¥¹å¸®ä¸ªå¿™ã€‚"'],prefill:'ï¼ˆæˆ¿å­é‡Œä¼ æ¥è‹æ–‡æ‰¾äººçš„å£°éŸ³ï¼Œè„šæ­¥å£°è¶Šæ¥è¶Šè¿‘...ï¼‰\n\n'}];function f(e,n){const t=h[Math.floor(Math.random()*h.length)],r=Math.random()<.5?1:2;let a='',o='';if(n<=1){const n=[`${e}å¿ƒè·³åŠ é€Ÿï¼Œæ€¥å¿™æ•´ç†ä»ªå®¹ï¼Œè„¸è‰²å¾®å˜ï¼Œè¯­æ°”æœ‰äº›ä¸è‡ªç„¶`,`${e}ä¸‹æ„è¯†åœ°åç›´èº«ä½“ï¼Œå£°éŸ³ç•¥å¾®å‘ç´§ï¼ŒåŠªåŠ›è¡¨ç°å¾—è‹¥æ— å…¶äº‹`,`${e}çš„æ‰‹æŒ‡ä¸è‡ªè§‰åœ°æ”¥ç´§äº†ä¸€ä¸‹ï¼Œç„¶åå¼ºè¿«è‡ªå·±æ”¾æ¾`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šæ€ä¹ˆè¿™ä¸ªæ—¶å€™è¿‡æ¥äº†...å†·é™...å†·é™...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šä¸è¦æ…Œ...åªæ˜¯æ™®é€šçš„é—®è¯...è‡ªç„¶ä¸€ç‚¹...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šä»–ä¸ä¼šå‘ç°ä»€ä¹ˆçš„...å¯¹å§...ï¼Ÿï¼‰`];a=n[Math.floor(Math.random()*n.length)],o=t[Math.floor(Math.random()*t.length)]}else if(n<=2){const n=[`${e}ç¨æ˜¾ç´§å¼ ï¼Œä½†èƒ½ç»´æŒè¡¨é¢é•‡å®šï¼Œå›ç­”æ—¶å¸¦ç€ä¸€ç‚¹çŠ¹è±«`,`${e}ç¥æ€åŸºæœ¬å¹³é™ï¼Œåªæ˜¯è¯´è¯çš„æ—¶å€™çœ¼ç¥æœ‰ä¸€ç¬é—´çš„é—ªèº²`,`${e}è½»è½»æ¸…äº†æ¸…å—“å­ï¼Œå£°éŸ³å¹³ç¨³ä½†ç•¥æ˜¾åˆ»æ„`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šåªæ˜¯æ™®é€šçš„é—®å€™...ä¸è¦è¡¨ç°å¾—å¤ªå¥‡æ€ª...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šéšä¾¿åº”ä»˜ä¸€ä¸‹å°±å¥½...ä»–ä¸ä¼šå¤šæƒ³çš„...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šä¿æŒå¾®ç¬‘...æ­£å¸¸çš„è¯­æ°”...æ²¡ä»€ä¹ˆå¥½ç´§å¼ çš„...ï¼‰`];a=n[Math.floor(Math.random()*n.length)],o=t[Math.floor(Math.random()*t.length)]}else if(n<=3){const n=[`${e}ä»å®¹åº”å¯¹ï¼Œè„¸ä¸ŠæŒ‚ç€å¾—ä½“çš„ç¬‘å®¹ï¼Œå†…å¿ƒå´æš—æš—ä¸æ»¡è¢«æ‰“æ‰°`,`${e}æ‡’æ´‹æ´‹åœ°å›åº”ï¼Œç¥æ€è‡ªè‹¥ï¼Œç”šè‡³å¸¦ç€ä¸€ä¸ä¸è€çƒ¦`,`${e}æ·¡æ·¡åœ°æ‰«äº†é—¨å£ä¸€çœ¼ï¼Œè¡¨æƒ…æ²¡æœ‰ä»»ä½•æ³¢åŠ¨`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šåˆæ¥äº†...çœŸæ˜¯æ‰«å…´...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šçƒ¦ä¸çƒ¦å•Š...å°±ä¸èƒ½è®©äººæ¸…é™ä¸€ä¼šå—...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šéšä¾¿æ‰“å‘ä»–èµ°å°±å¥½äº†...ï¼‰`];a=n[Math.floor(Math.random()*n.length)],o=t[Math.floor(Math.random()*t.length)]}else{const n=[`${e}å®Œç¾åœ°æ‰®æ¼”ç€æ—¥å¸¸è§’è‰²ï¼Œåº”å¯¹è‡ªå¦‚ï¼Œæ¯«æ— ç ´ç»½`,`${e}è½¬è¿‡å¤´æ¥ï¼Œè„¸ä¸Šæ˜¯æ°åˆ°å¥½å¤„çš„æ¸©æŸ”ç¬‘å®¹ï¼Œå£°éŸ³äº²åˆ‡è‡ªç„¶`,`${e}çš„ååº”å®Œç¾æ— ç‘•ï¼Œä»»ä½•äººéƒ½çœ‹ä¸å‡ºä¸€ä¸å¼‚å¸¸`],t=[`ï¼ˆ${e}çš„å†…å¿ƒï¼šå‘µï¼Œæ¼”æˆè€Œå·²...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šè¿™ç§å°åœºé¢ï¼Œé—­ç€çœ¼éƒ½èƒ½åº”ä»˜...ï¼‰`,`ï¼ˆ${e}çš„å†…å¿ƒï¼šå¯æ€œçš„äººï¼Œæ°¸è¿œéƒ½ä¸ä¼šçŸ¥é“çœŸç›¸...ï¼‰`];a=n[Math.floor(Math.random()*n.length)],o=t[Math.floor(Math.random()*t.length)]}const s=t.dialogues[Math.floor(Math.random()*t.dialogues.length)],l=[`"å¥½äº†ï¼Œä½ ä»¬ä¹Ÿåˆ«èŠå¤ªä¹…äº†ï¼Œ${r}å°æ—¶åè¯¥åšé¥­äº†/è¯¥ä¼‘æ¯äº†ã€‚"`,`"è¡Œï¼Œæˆ‘ä¸æ‰“æ‰°ä½ ä»¬äº†ï¼Œä¸è¿‡å·®ä¸å¤š${r}å°æ—¶åå‡ºæ¥ä¸€ä¸‹å§ã€‚"`,`"å—¯...å¥½å§ï¼Œä¸è¿‡åˆ«å¾…å¤ªä¹…ï¼Œ${r}å°æ—¶åè¯¥å‡ºæ¥æ´»åŠ¨æ´»åŠ¨äº†ã€‚"`,`"é‚£ä½ ä»¬ç»§ç»­ï¼Œ${r}å°æ—¶åè®°å¾—å‡ºæ¥ã€‚"`],c=l[Math.floor(Math.random()*l.length)];return['ã€ç³»ç»Ÿå¼ºåˆ¶äº‹ä»¶ï¼šè‹æ–‡å·¡é€»ã€‘','','â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•','  âš ï¸ è‹æ–‡è·¯è¿‡{{user}}æˆ¿é—´ï¼Œéšæœºè§¦å‘ï¼','â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•','','ã€æœ€é«˜ä¼˜å…ˆçº§ã€‘æœ¬è½®å¿…é¡»æ¼”ç»è‹æ–‡å·¡é€»äº‹ä»¶ï¼Œæš‚åœå…¶ä»–å‰§æƒ…ï¼','','ã€åœºæ™¯è®¾å®šã€‘',t.scene,'','ã€è‹æ–‡è¯´ã€‘',s,'',`ã€${e}çš„ååº”ã€‘`,`${a}`,`${o}`,'','ã€è‹æ–‡çš„è¦æ±‚ã€‘',`è‹æ–‡ç®€å•é—®è¯¢åï¼Œä¼šè¦æ±‚${e}åœ¨${r}å°æ—¶å†…ç¦»å¼€æˆ¿é—´ï¼š`,c,'','ã€æ¼”å‡ºè¦æ±‚ã€‘',`1. ç”¨å†…å¿ƒç‹¬ç™½å±•ç°${e}è¢«é—®è¯¢æ—¶çš„å¿ƒç†æ´»åŠ¨`,'2. æå†™å¥¹çš„è¡¨æƒ…ç®¡ç†ã€è¯­æ°”æ§åˆ¶',`3. ${e}éœ€è¦ç»™è‹æ–‡ä¸€ä¸ªç®€å•çš„å›åº”ï¼ˆä¸éœ€è¦å¤æ‚å€Ÿå£ï¼‰`,'4. è‹æ–‡ä¼šè‡ªç„¶åœ°æå‡ºç¦»å¼€æœŸé™è¦æ±‚ï¼Œç„¶åç¦»å¼€','5. è‹æ–‡çš„æ€§æ ¼ï¼šç•¥æ˜¾æœ¨è®·ã€å·¥ä½œå¿™ç¢Œã€ä¸å¤ªç»†å¿ƒä½†å¶å°”æ•é”','','ã€ç¦»å¼€æœŸé™æœºåˆ¶ã€‘',`âš ï¸ è‹æ–‡å·²è®¾ç½®${r}å°æ—¶çš„ç¦»å¼€æœŸé™`,`âš ï¸ ${e}å¿…é¡»åœ¨æœŸé™å†…ç¦»å¼€{{user}}æˆ¿é—´`,'âš ï¸ å¦‚æœè¶…æ—¶ä¸ç¦»å¼€ï¼Œå°†è§¦å‘ã€è‹æ–‡æ‰“æ–­äº‹ä»¶ã€‘','','ã€ç»å¯¹ç¦æ­¢ã€‘','- ç¦æ­¢å¿½ç•¥æ­¤äº‹ä»¶ç»§ç»­ä¹‹å‰çš„å‰§æƒ…','- ç¦æ­¢ä»£æ›¿ç©å®¶ï¼ˆ{{user}}ï¼‰è¯´è¯æˆ–è¡ŒåŠ¨','- ç¦æ­¢è®©è‹æ–‡ä¸æå‡ºç¦»å¼€è¦æ±‚å°±ç¦»å¼€','','è¯·æ¼”ç»è¿™ä¸ªå·¡é€»åœºæ™¯ï¼ŒåŒ…æ‹¬è‹æ–‡çš„é—®è¯¢å’Œç¦»å¼€è¦æ±‚ã€‚'].join('\n')}function y(){return`ã€è‹æ–‡å·¡é€»äº‹ä»¶ã€‘\n\n${h[Math.floor(Math.random()*h.length)].prefill}`}function M(e,n){return[`ã€ç³»ç»Ÿè§¦å‘ï¼š${e}é˜¶æ®µ${n}ã€Œ${r(n)}ã€éšè—å‰§æƒ…ã€‘`,'','ç©å®¶å½“å‰çš„è¡ŒåŠ¨æš‚æ—¶æç½®ï¼Œè¯·å…ˆæ¼”ç»ä»¥ä¸‹éšè—å‰§æƒ…äº‹ä»¶ã€‚','',a(e,n).replace(/^OOC:\s*/gm,'').replace(/ã€å¼ºåˆ¶å‰§æƒ…äº‹ä»¶[^ã€‘]*ã€‘/g,'').trim(),'','è¯·å®Œæ•´æ¼”ç»è¿™æ®µéšè—å‰§æƒ…ï¼Œç»“æŸåæ¢å¤æ­£å¸¸äº’åŠ¨ã€‚'].join('\n')}function x(){const e=[],t=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n)return console.warn('[çŠ¶æ€ä¸€è‡´æ€§] stat_data ä¸å­˜åœ¨'),null;const t=n.ä¸–ç•Œ?.æ—¥æœŸ||'æœªçŸ¥',r=n.ä¸–ç•Œ?.æ—¶é—´||'æœªçŸ¥',a=n.è‹æ–‡çŠ¶æ€?.å½“å‰ä½ç½®||'æœªçŸ¥',o=n.è‹æ–‡çŠ¶æ€?.å½“å‰çŠ¶æ€||'æœªçŸ¥';let s='';if('æœªçŸ¥'!==r){const[e]=r.split(':').map(Number);e>=6&&e<8?s='æ¸…æ™¨æ—¶åˆ†':e>=12&&e<14?s='æ­£åˆæ—¶åˆ†':e>=18&&e<20?s='å‚æ™šæ—¶åˆ†':(e>=22||e<6)&&(s='æ·±å¤œæ—¶åˆ†')}const l=['ã€å½“å‰çŠ¶æ€å‚è€ƒã€‘',`- æ—¥æœŸï¼š${t}`,`- æ—¶é—´ï¼š${r}${s?` (${s})`:''}`,`- è‹æ–‡ä½ç½®ï¼š${a}`,`- è‹æ–‡çŠ¶æ€ï¼š${o}`];return'ç¡çœ '===o?l.push('\nâš ï¸ è‹æ–‡æ­£åœ¨ç¡çœ ï¼Œç¦æ­¢æå†™ï¼š','  - è‹æ–‡çš„è„šæ­¥å£°ã€è¯´è¯ã€ä»»ä½•æ´»åŠ¨','  - è‹æ–‡åœ¨ä¸»å§ä»¥å¤–çš„ä½ç½®'):'ä¸Šç­'!==o&&'å‡ºå·®'!==o||l.push(`\nâš ï¸ è‹æ–‡ä¸åœ¨å®¶ï¼ˆ${o}ï¼‰ï¼Œç¦æ­¢æå†™è‹æ–‡åœ¨å®¶ä¸­`),s&&l.push(`\nğŸ’¡ å¦‚éœ€æç»˜ç¯å¢ƒï¼Œå½“å‰æ˜¯${s}`),l.join('\n')}catch(e){return console.error('[çŠ¶æ€ä¸€è‡´æ€§] ç”Ÿæˆæé†’æ—¶å‡ºé”™:',e),null}}();t&&e.push(t);const a=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n)return null;const t=n.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’',r='ç§¦ç’'===t?'è‹æ¢¦':'ç§¦ç’',a=n.ç§¦ç’çŠ¶æ€,o=n.è‹æ¢¦çŠ¶æ€,s='ç§¦ç’'===t?o:a,l=s?.å½“å‰é˜¶æ®µ||1;if(!(l>1||(s?.ä¹ æƒ¯åˆ—è¡¨?.length||0)>0))return null;const c=['ã€ğŸ”’ ä¿¡æ¯éš”ç¦»è§„åˆ™ã€‘',`å½“å‰è§†è§’è§’è‰²ï¼š${t}`,'',`âš ï¸ é‡è¦ï¼š${t}ä¸${r}ä¹‹é—´å­˜åœ¨ä¿¡æ¯éš”ç¦»ï¼š`,'',`ã€${t}ä¸çŸ¥é“çš„ä¿¡æ¯ã€‘`,`- ${r}ä¸{{user}}ä¹‹é—´å‘ç”Ÿçš„ä»»ä½•äº‹æƒ…`,`- ${r}å¯¹{{user}}äº§ç”Ÿçš„ä»»ä½•ç‰¹æ®Šæ„Ÿæƒ…æˆ–ä¾èµ–`,`- ${r}å½¢æˆçš„ä»»ä½•ä¹ æƒ¯æˆ–è¡Œä¸ºå˜åŒ–çš„çœŸå®åŸå› `,`- ${r}çš„å†…å¿ƒæƒ³æ³•ã€å¿ƒç†å˜åŒ–ã€é˜¶æ®µè¿›å±•`];return l>=2&&c.push(`- ${r}å·²ç»å¼€å§‹å¯¹{{user}}äº§ç”ŸåŠ¨æ‘‡ï¼ˆé˜¶æ®µ${l}ï¼‰`),s?.ä¹ æƒ¯åˆ—è¡¨?.length>0&&c.push(`- ${r}å½¢æˆçš„ ${s.ä¹ æƒ¯åˆ—è¡¨.length} ä¸ªæ½œæ„è¯†ä¹ æƒ¯`),c.push('','ã€æ¼”ç»è¦æ±‚ã€‘',`- å¦‚æœ${t}ä¸${r}åŒæ—¶å‡ºç°ï¼Œ${t}å¯¹${r}çš„å¼‚å¸¸è¡Œä¸ºåªèƒ½è¡¨ç°å‡ºå›°æƒ‘ï¼Œä¸èƒ½ç›´æ¥çŸ¥é“åŸå› `,`- ${t}ä¸ä¼šä¸»åŠ¨è¯¢é—®${r}ä¸{{user}}çš„å…³ç³»ï¼Œé™¤éçœ‹åˆ°æ˜æ˜¾çš„å¼‚å¸¸`,'- ä¸¤äººä¹‹é—´ä¿æŒæ­£å¸¸çš„å®¶åº­å…³ç³»äº’åŠ¨ï¼ˆå©†åª³/æ¯å¥³å…³ç³»ï¼‰','- åªæœ‰å½“æŸè§’è‰²ä¸»åŠ¨å‘å¦ä¸€è§’è‰²é€éœ²æ—¶ï¼Œä¿¡æ¯éš”ç¦»æ‰ä¼šæ‰“ç ´'),c.join('\n')}catch(e){return console.error('[ä¿¡æ¯éš”ç¦»] ç”Ÿæˆæé†’æ—¶å‡ºé”™:',e),null}}();a&&e.push(a);const s=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),t=_.get(e,'stat_data');if(!t)return console.warn('[ä¹ æƒ¯æ³¨å…¥] stat_data ä¸å­˜åœ¨'),null;const r=t.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’',a=[],o=t.ç§¦ç’çŠ¶æ€?.ä¹ æƒ¯åˆ—è¡¨||[];if(o.length>0&&'ç§¦ç’'===r){const{level:e,description:t,example:r}=n(o.length),s=o.map(e=>`"${e.å†…å®¹}"`).join('ã€');a.push(['ã€ç§¦ç’çš„è¡Œä¸ºå€¾å‘ã€‘',`å½“å‰å½±å“åŠ›ï¼š${e}`,`å…·ä½“è¡¨ç°ï¼š${t}`,`å·²å†…åŒ–çš„è¡Œä¸ºï¼š${s}`,'','ã€å½“å‰å½±å“åŠ›çš„æ¼”ç»ç¤ºä¾‹ã€‘',`${r}`,'','ã€æ¼”ç»è¦æ±‚ã€‘','- åœ¨ç›¸å…³åœºæ™¯ä¸­ï¼Œç§¦ç’ä¼šè‡ªç„¶åœ°è¡¨ç°å‡ºè¿™äº›è¡Œä¸ºå€¾å‘','- å‚è€ƒä¸Šé¢çš„ç¤ºä¾‹ï¼ŒæŠŠæ¡å½“å‰å½±å“åŠ›ç­‰çº§ä¸‹è§’è‰²çš„ååº”ç¨‹åº¦','- è¿™äº›æ˜¯è§’è‰²å·²ç»ä¹ æƒ¯çš„è¡Œä¸ºæ¨¡å¼ï¼Œä¸éœ€è¦{{user}}æ¯æ¬¡éƒ½æèµ·','- ã€ç¦æ­¢ã€‘åœ¨è¾“å‡ºä¸­æåŠ"ä¹ æƒ¯"ã€"è¡Œä¸ºå€¾å‘"ã€"å½±å“åŠ›"ç­‰å…ƒæ¸¸æˆæœ¯è¯­','- ã€ç¦æ­¢ã€‘è®©è§’è‰²æ„è¯†åˆ°è‡ªå·±"è¢«æ”¹å˜äº†"æˆ–"æœ‰äº†ä¹ æƒ¯"'].join('\n'))}const s=t.è‹æ¢¦çŠ¶æ€?.ä¹ æƒ¯åˆ—è¡¨||[];if(s.length>0&&'è‹æ¢¦'===r){const{level:e,description:t,example:r}=n(s.length),o=s.map(e=>`"${e.å†…å®¹}"`).join('ã€');a.push(['ã€è‹æ¢¦çš„è¡Œä¸ºå€¾å‘ã€‘',`å½“å‰å½±å“åŠ›ï¼š${e}`,`å…·ä½“è¡¨ç°ï¼š${t}`,`å·²å†…åŒ–çš„è¡Œä¸ºï¼š${o}`,'','ã€å½“å‰å½±å“åŠ›çš„æ¼”ç»ç¤ºä¾‹ã€‘',`${r}`,'','ã€æ¼”ç»è¦æ±‚ã€‘','- åœ¨ç›¸å…³åœºæ™¯ä¸­ï¼Œè‹æ¢¦ä¼šè‡ªç„¶åœ°è¡¨ç°å‡ºè¿™äº›è¡Œä¸ºå€¾å‘','- å‚è€ƒä¸Šé¢çš„ç¤ºä¾‹ï¼ŒæŠŠæ¡å½“å‰å½±å“åŠ›ç­‰çº§ä¸‹è§’è‰²çš„ååº”ç¨‹åº¦','- è¿™äº›æ˜¯è§’è‰²å·²ç»ä¹ æƒ¯çš„è¡Œä¸ºæ¨¡å¼ï¼Œä¸éœ€è¦{{user}}æ¯æ¬¡éƒ½æèµ·','- ã€ç¦æ­¢ã€‘åœ¨è¾“å‡ºä¸­æåŠ"ä¹ æƒ¯"ã€"è¡Œä¸ºå€¾å‘"ã€"å½±å“åŠ›"ç­‰å…ƒæ¸¸æˆæœ¯è¯­','- ã€ç¦æ­¢ã€‘è®©è§’è‰²æ„è¯†åˆ°è‡ªå·±"è¢«æ”¹å˜äº†"æˆ–"æœ‰äº†ä¹ æƒ¯"'].join('\n'))}return 0===a.length?null:a.join('\n\n')}catch(e){return console.error('[ä¹ æƒ¯æ³¨å…¥] ç”Ÿæˆæ³¨å…¥æ¶ˆæ¯æ—¶å‡ºé”™:',e),null}}();s&&e.push(s);const l=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n)return null;const t=n.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’',r='ç§¦ç’'===t?n.ç§¦ç’çŠ¶æ€:n.è‹æ¢¦çŠ¶æ€;if(!r)return null;const a=r.æœè£…ç»†èŠ‚,o=r.å¦†å®¹ç»†èŠ‚,s=r.èº«ä½“æ”¹é€ ,l=[`ã€å½“å‰å¤–è§‚ - ${t}ã€‘`,`æœè£…ï¼š${a.ä¸Šè£…} + ${a.ä¸‹è£…}ï¼ˆ${a.æ•´ä½“é£æ ¼}ï¼Œæš´éœ²ï¼š${a.æš´éœ²ç¨‹åº¦}ï¼‰`,`å¦†å®¹ï¼š${o.æµ“æ·¡ç¨‹åº¦}ï¼ˆ${o.æ•´ä½“é£æ ¼}ï¼‰`,`æ°”è´¨ï¼š${r.æ°”è´¨æè¿°}`];a.ç‰¹æ®Šè£…é¥°&&'æ— '!==a.ç‰¹æ®Šè£…é¥°&&l.push(`ç‰¹æ®Šè£…é¥°ï¼š${a.ç‰¹æ®Šè£…é¥°}`);const c=s?.ä¸´æ—¶æ ‡è®°||[];c.length>0&&l.push(`ä¸´æ—¶æ ‡è®°ï¼š${c.join('ã€')}`);const i=n.è‹æ–‡çŠ¶æ€?.å½“å‰çŠ¶æ€||'æœªçŸ¥';if('åœ¨å®¶'===i&&'ç¡çœ '!==i&&'ä¸Šç­'!==i&&'å‡ºå·®'!==i){const e=[],n=a.æš´éœ²ç¨‹åº¦;'æš´éœ²'!==n&&'æåº¦æš´éœ²'!==n||e.push(`å½“å‰æš´éœ²ç¨‹åº¦ã€Œ${n}ã€ä¸é€‚åˆåœ¨è‹æ–‡é¢å‰å±•ç¤º`),c.length>0&&e.push(`èº«ä¸Šæœ‰ä¸´æ—¶æ ‡è®°éœ€è¦é®æŒ¡ï¼š${c.join('ã€')}`),a.ç‰¹æ®Šè£…é¥°&&'æ— '!==a.ç‰¹æ®Šè£…é¥°&&e.push(`ç‰¹æ®Šè£…é¥°ã€Œ${a.ç‰¹æ®Šè£…é¥°}ã€éœ€è¦éšè—æˆ–å–ä¸‹`),'æµ“å¦†'!==o.æµ“æ·¡ç¨‹åº¦&&'è‰³å¦†'!==o.æµ“æ·¡ç¨‹åº¦||e.push(`å½“å‰å¦†å®¹ã€Œ${o.æµ“æ·¡ç¨‹åº¦}ã€å¯èƒ½å¼•èµ·è‹æ–‡æ³¨æ„`),e.length>0&&(l.push('\nâš ï¸ è‹æ–‡åœ¨å®¶ä¸”æ¸…é†’ï¼Œæ³¨æ„ï¼š'),e.forEach(e=>l.push(`  - ${e}`)))}return l.join('\n')}catch(e){return console.error('[å¤–è§‚æé†’] ç”Ÿæˆæé†’æ—¶å‡ºé”™:',e),null}}();l&&e.push(l);const c=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n)return null;const t=[];if((n.ç§¦ç’çŠ¶æ€?.å¿µå¤´åŸ¹è‚²åŒº||[]).forEach(e=>{e.å¾…åˆ¤å®š&&t.push({target:'ç§¦ç’',content:e.å¿µå¤´å†…å®¹})}),(n.è‹æ¢¦çŠ¶æ€?.å¿µå¤´åŸ¹è‚²åŒº||[]).forEach(e=>{e.å¾…åˆ¤å®š&&t.push({target:'è‹æ¢¦',content:e.å¿µå¤´å†…å®¹})}),0===t.length)return null;console.info(`[å¿µå¤´åˆ¤å®š] å‘ç° ${t.length} ä¸ªå¾…åˆ¤å®šå¿µå¤´`);return['OOC: ã€å¿µå¤´ç±»å‹åˆ¤å®šè¯·æ±‚ã€‘','','ä»¥ä¸‹å¿µå¤´éœ€è¦åˆ¤å®šç±»å‹ï¼š',t.map(e=>`  - ${e.target}ï¼š"${e.content}"`).join('\n'),'','å¯é€‰ç±»å‹ï¼ˆ10å¤§ç±»ï¼‰ï¼š','- é™ªä¼´äº¤æµï¼ˆèŠå¤©ã€é™ªä¼´ã€å€¾è¯‰ã€æ²Ÿé€šã€å–‚é¥­ã€ç…§é¡¾èµ·å±…ï¼‰','- æƒ…æ„Ÿä¾èµ–ï¼ˆæƒ³å¿µã€ç‰µæŒ‚ã€æƒ¦è®°ã€åœ¨æ„ï¼‰','- è‚¢ä½“äº²è¿‘ï¼ˆç‰µæ‰‹ã€æ‹¥æŠ±ã€ä¾åã€é åœ¨ä¸€èµ·ï¼‰','- æš§æ˜§äº’åŠ¨ï¼ˆæ’’å¨‡ã€äº²æ˜µã€è°ƒæƒ…ã€å¿ƒè·³åŠ é€Ÿï¼‰','- äº²å¯†æ¥è§¦ï¼ˆäº²å»ã€æ¥å»ã€æŠšæ‘¸èº«ä½“ï¼‰','- èº«ä½“å¼€æ”¾ï¼ˆæš´éœ²èº«ä½“ã€å±•ç¤ºèº«æã€è¢’éœ²ï¼‰','- æ€§è¡Œä¸ºï¼ˆåšçˆ±ã€æ€§è¡Œä¸ºã€å£äº¤ã€æ’å…¥ï¼‰','- èº«ä»½è®¤åŒï¼ˆå±äºä½ ã€ä½ çš„äººã€å½’å±æ„Ÿï¼‰','- ç»å¯¹æœä»ï¼ˆæœä»å‘½ä»¤ã€è·ªä¸‹ã€ä¸»å¥´å…³ç³»ï¼‰','- å®¶åº­æ›¿ä»£ï¼ˆå–ä»£é…å¶ã€èµ¶èµ°ä¸ˆå¤«ã€ç¦»å©šï¼‰','','ã€é‡è¦ã€‘è¯·åœ¨æœ¬è½®å›å¤çš„æœ€åä¸€è¡Œï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼è¾“å‡ºåˆ¤å®šç»“æœï¼ˆæ¯ä¸ªå¿µå¤´ä¸€è¡Œï¼‰ï¼š','ã€å¿µå¤´åˆ¤å®šã€‘è§’è‰²:å¿µå¤´å†…å®¹=ç±»å‹','','ç¤ºä¾‹ï¼š','ã€å¿µå¤´åˆ¤å®šã€‘ç§¦ç’:æƒ³å’Œä»–èŠå¤©=é™ªä¼´äº¤æµ','ã€å¿µå¤´åˆ¤å®šã€‘è‹æ¢¦:æƒ³è¢«ä»–æ‹¥æŠ±=è‚¢ä½“äº²è¿‘'].join('\n')}catch(e){return console.error('[å¿µå¤´åˆ¤å®š] ç”Ÿæˆåˆ¤å®šæç¤ºå¤±è´¥:',e),null}}();c&&e.push(c);const i=e.length>0?e.join('\n\n'):t,u=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n?.ç³»ç»Ÿè¿½è¸ª?.å¿µå¤´æ¤å…¥æ—¥å¿—)return null;const t=n.ç³»ç»Ÿè¿½è¸ª.å¿µå¤´æ¤å…¥æ—¥å¿—;if(0===t.length)return null;const r=t.filter(e=>!e.å·²é€šçŸ¥AI).length;console.info(`[å¿µå¤´æ¤å…¥] å‘ç° ${t.length} æ¡å¿µå¤´æ¤å…¥è®°å½•ï¼ˆ${r} æ¡æœªé€šçŸ¥ï¼‰`);const a={};t.forEach(e=>{const n=e.ç›®æ ‡;a[n]||(a[n]=[]),a[n].push(e.å†…å®¹)});const o=[];for(const[e,n]of Object.entries(a))if(1===n.length)o.push(`ã€${e}ã€‘å¯¹"${n[0]}"äº§ç”Ÿäº†ä¸€ä¸å¥½å¥‡æˆ–ä¸æ’æ–¥`);else{const t=n.map(e=>`  Â· "${e}"`).join('\n');o.push(`ã€${e}ã€‘å¯¹ä»¥ä¸‹è¯é¢˜äº§ç”Ÿäº†ä¸€ä¸å¥½å¥‡æˆ–ä¸æ’æ–¥ï¼š\n${t}`)}const s=['OOC: ã€å¿µå¤´åŸ¹è‚²ä¸­ã€‘','',...o,'','ã€æ¼”ç»è¦æ±‚ã€‘','- è¿™äº›åªæ˜¯èŒèŠ½çš„æƒ³æ³•ï¼Œä¸æ˜¯å·²å½¢æˆçš„è§‚å¿µæˆ–ä¹ æƒ¯','- å¦‚æœ{{user}}ä¸»åŠ¨å¼•å¯¼ç›¸å…³è¯é¢˜ï¼Œè§’è‰²ä¼šæ¯”å¹³æ—¶æ›´æ„¿æ„èŠã€ä¸ä¼šç«‹åˆ»å›é¿','- ä½†å¥¹ä»ç„¶ä¼šæœ‰æ­£å¸¸çš„ç¾æ¶©ã€çŠ¹è±«æˆ–æŠ—æ‹’ï¼Œåªæ˜¯"é—¨æ²¡å…³æ­»"','- æ€åº¦å’Œååº”ä»ç„¶åŸºäºå½“å‰çš„é“å¾·åº•çº¿å’Œä¾å­˜åº¦æ•°å€¼','- ã€ç¦æ­¢ã€‘è®©è§’è‰²ä¸»åŠ¨æèµ·è¿™äº›è¯é¢˜æˆ–è¡¨ç°å¾—åƒå·²ç»æ¥å—','- ã€ç¦æ­¢ã€‘æå†™ä¸º"æœ¬æ¥å°±æœ‰çš„æƒ³æ³•"æˆ–"ç†æ‰€å½“ç„¶"','- ã€ç¦æ­¢ã€‘è®©å¿µå¤´ç›´æ¥æ”¹å˜è§’è‰²çš„æ€§æ ¼æˆ–è¡Œä¸ºæ¨¡å¼'].join('\n');let l=!1;if(t.forEach(e=>{e.å·²é€šçŸ¥AI||(e.å·²é€šçŸ¥AI=!0,l=!0)}),l)try{const e=Mvu.getMvuData({type:'message',message_id:-1});_.set(e,'stat_data.ç³»ç»Ÿè¿½è¸ª.å¿µå¤´æ¤å…¥æ—¥å¿—',t),Mvu.replaceMvuData(e,{type:'message',message_id:-1}),console.info(`[å¿µå¤´æ¤å…¥] å·²æ ‡è®° ${r} æ¡æ—¥å¿—ä¸ºå·²é€šçŸ¥ï¼ˆMVU APIï¼‰`)}catch(e){console.error('[å¿µå¤´æ¤å…¥] æ ‡è®°æ—¥å¿—å¤±è´¥:',e)}return s}catch(e){return console.error('[å¿µå¤´æ¤å…¥] ç”Ÿæˆé€šçŸ¥æ¶ˆæ¯å¤±è´¥:',e),null}}();let h={type:null,character:null,userMessageContent:null,prefill:null};const x=g();if(x){const{character:e,stage:n,violationType:t,matchedKeyword:r}=x;return h={type:'boundaryViolation',character:e,userMessageContent:m(e,n,t),prefill:'ï¼ˆé—¨çªç„¶è¢«æ¨å¼€ï¼Œè‹æ–‡ç«™åœ¨é—¨å£ï¼Œè„¸è‰²é˜´æ²‰...ï¼‰\n\n',violationType:t},console.warn(`[ä¹ æƒ¯æ³¨å…¥] âš ï¸ æ£€æµ‹åˆ°è¶Šç•Œè¡Œä¸ºï¼é˜¶æ®µ${n}ç¦æ­¢ã€Œ${t}ã€ï¼Œå…³é”®è¯: "${r}"ï¼Œè§¦å‘æ‰“æ–­`),{normal:i,thoughtImplant:u,forcedEvent:h}}const w=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data'),t=getLastMessageId();if(!n?.ç³»ç»Ÿè¿½è¸ª?.å¼ºåˆ¶äº‹ä»¶æ—¥å¿—)return{type:null,character:null,stage:1,accumulatedTime:0,reason:'',logIndex:-1};const r=n.ç³»ç»Ÿè¿½è¸ª.å¼ºåˆ¶äº‹ä»¶æ—¥å¿—,a={é˜¶æ®µçªç ´:0,è‹æ–‡æ‰“æ–­:1,è‹æ–‡å·¡é€»:2},o=r.map((e,n)=>({log:e,index:n})).filter(({log:e})=>{const n=t-e.è§¦å‘æ¥¼å±‚;return n>=0&&n<=3&&!e.å·²é€šçŸ¥AI}).sort((e,n)=>a[e.log.äº‹ä»¶ç±»å‹]-a[n.log.äº‹ä»¶ç±»å‹]);if(0===o.length)return{type:null,character:null,stage:1,accumulatedTime:0,reason:'',logIndex:-1};const{log:s,index:l}=o[0],c=s.è§’è‰²,i='ç§¦ç’'===c?n.ç§¦ç’çŠ¶æ€?.å½“å‰é˜¶æ®µ||1:n.è‹æ¢¦çŠ¶æ€?.å½“å‰é˜¶æ®µ||1;return console.info(`[å¼ºåˆ¶äº‹ä»¶æ—¥å¿—] æ£€æµ‹åˆ°å¾…å¤„ç†äº‹ä»¶: ${s.äº‹ä»¶ç±»å‹}, è§’è‰²: ${c}, æ¥¼å±‚: ${s.è§¦å‘æ¥¼å±‚}`),{type:s.äº‹ä»¶ç±»å‹,character:c,stage:i,accumulatedTime:s.ç´¯è®¡æ—¶é—´||0,reason:s.æ‰“æ–­åŸå› ||'',logIndex:l,stageNumber:s.é˜¶æ®µå·,triggerTime:s.è§¦å‘æ—¶é—´,patrolLocation:s.å·¡é€»ä½ç½®}}catch(e){return console.error('[å¼ºåˆ¶äº‹ä»¶æ—¥å¿—] æ£€æµ‹æ—¶å‡ºé”™:',e),{type:null,character:null,stage:1,accumulatedTime:0,reason:'',logIndex:-1}}}();if(w.type&&w.character){const{type:e,character:n,stage:t,accumulatedTime:r,stageNumber:a,triggerTime:s,logIndex:l}=w;'é˜¶æ®µçªç ´'===e&&a?(h={type:'stageBreakthrough',character:n,userMessageContent:M(n,a),prefill:o(n,a),stageNumber:a,logIndex:l},console.info(`[ä¹ æƒ¯æ³¨å…¥] ä»æ—¥å¿—æ£€æµ‹åˆ°é˜¶æ®µçªç ´ï¼Œå°†æ›¿æ¢ç”¨æˆ·æ¶ˆæ¯ (${n} é˜¶æ®µ${a})`)):'è‹æ–‡æ‰“æ–­'===e?(h={type:'interruption',character:n,userMessageContent:d(n,t,r),prefill:p(),accumulatedTime:r,logIndex:l},console.info(`[ä¹ æƒ¯æ³¨å…¥] ä»æ—¥å¿—æ£€æµ‹åˆ°æ‰“æ–­äº‹ä»¶ï¼Œå°†æ›¿æ¢ç”¨æˆ·æ¶ˆæ¯ (${n}, ç´¯è®¡${r}å°æ—¶)`)):'è‹æ–‡å·¡é€»'===e&&(h={type:'patrol',character:n,userMessageContent:f(n,t),prefill:y(),triggerTime:s,logIndex:l},console.info(`[ä¹ æƒ¯æ³¨å…¥] ä»æ—¥å¿—æ£€æµ‹åˆ°å·¡é€»äº‹ä»¶ï¼Œå°†æ›¿æ¢ç”¨æˆ·æ¶ˆæ¯ (${n}, æ—¶é—´${s})`))}if(!h.type){const e=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n)return{character:null,newStage:null};const t=n.ç³»ç»Ÿè¿½è¸ª?.ç§¦ç’å¤–è§‚å¾…æ›´æ–°;if(t?.éœ€è¦æ›´æ–°&&t.ç›®æ ‡é˜¶æ®µ>1){const e=t.ç›®æ ‡é˜¶æ®µ;return console.info(`[é˜¶æ®µçªç ´] æ£€æµ‹åˆ°ç§¦ç’é˜¶æ®µçªç ´: é˜¶æ®µ${e}(${r(e)})`),{character:'ç§¦ç’',newStage:e}}const a=n.ç³»ç»Ÿè¿½è¸ª?.è‹æ¢¦å¤–è§‚å¾…æ›´æ–°;if(a?.éœ€è¦æ›´æ–°&&a.ç›®æ ‡é˜¶æ®µ>1){const e=a.ç›®æ ‡é˜¶æ®µ;return console.info(`[é˜¶æ®µçªç ´] æ£€æµ‹åˆ°è‹æ¢¦é˜¶æ®µçªç ´: é˜¶æ®µ${e}(${r(e)})`),{character:'è‹æ¢¦',newStage:e}}return{character:null,newStage:null}}catch(e){return console.error('[é˜¶æ®µçªç ´] æ£€æµ‹æ—¶å‡ºé”™:',e),{character:null,newStage:null}}}();if(e.character&&e.newStage){const{character:n,newStage:t}=e;h={type:'stageBreakthrough',character:n,userMessageContent:M(n,t),prefill:o(n,t),stageNumber:t},console.info(`[ä¹ æƒ¯æ³¨å…¥] æ£€æµ‹åˆ°é˜¶æ®µçªç ´ï¼Œå°†æ›¿æ¢ç”¨æˆ·æ¶ˆæ¯ (${n} é˜¶æ®µ${t})`)}if(!h.type){const e=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n?.ç³»ç»Ÿè¿½è¸ª?.è‹æ–‡æ‰“æ–­äº‹ä»¶?.å¾…è§¦å‘)return{triggered:!1,character:null,stage:1,accumulatedTime:0,reason:''};if(n.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡æ‰“æ–­äº‹ä»¶.å·²é€šçŸ¥AI)return{triggered:!1,character:null,stage:1,accumulatedTime:0,reason:''};const t=n.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡æ‰“æ–­äº‹ä»¶,r=n.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’',a='ç§¦ç’'===r?n.ç§¦ç’çŠ¶æ€?.å½“å‰é˜¶æ®µ||1:n.è‹æ¢¦çŠ¶æ€?.å½“å‰é˜¶æ®µ||1;return console.info(`[æ‰“æ–­äº‹ä»¶] æ£€æµ‹åˆ°å¾…è§¦å‘çš„æ‰“æ–­äº‹ä»¶ï¼ŒåŸå› : ${t.æ‰“æ–­åŸå› }`),{triggered:!0,character:r,stage:a,accumulatedTime:t.ç´¯è®¡æ—¶é—´||0,reason:t.æ‰“æ–­åŸå› ||''}}catch(e){return console.error('[æ‰“æ–­äº‹ä»¶] æ£€æµ‹æ—¶å‡ºé”™:',e),{triggered:!1,character:null,stage:1,accumulatedTime:0,reason:''}}}();if(e.triggered&&e.character){const{character:n,stage:t,accumulatedTime:r}=e;h={type:'interruption',character:n,userMessageContent:d(n,t,r),prefill:p(),accumulatedTime:r},console.info(`[ä¹ æƒ¯æ³¨å…¥] æ£€æµ‹åˆ°æ‰“æ–­äº‹ä»¶ï¼Œå°†æ›¿æ¢ç”¨æˆ·æ¶ˆæ¯ (${n}, ç´¯è®¡${r}å°æ—¶)`)}}if(!h.type){const e=function(){try{const e=Mvu.getMvuData({type:'message',message_id:-1}),n=_.get(e,'stat_data');if(!n?.ç³»ç»Ÿè¿½è¸ª?.è‹æ–‡å·¡é€»äº‹ä»¶?.å¾…è§¦å‘)return{triggered:!1,character:null,stage:1,triggerTime:'',patrolLocation:''};if(n.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡å·¡é€»äº‹ä»¶.å·²é€šçŸ¥AI)return{triggered:!1,character:null,stage:1,triggerTime:'',patrolLocation:''};const t=n.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡å·¡é€»äº‹ä»¶,r=n.ç³»ç»Ÿè¿½è¸ª?.å½“å‰è§’è‰²||'ç§¦ç’',a='ç§¦ç’'===r?n.ç§¦ç’çŠ¶æ€?.å½“å‰é˜¶æ®µ||1:n.è‹æ¢¦çŠ¶æ€?.å½“å‰é˜¶æ®µ||1;return console.info(`[å·¡é€»äº‹ä»¶] æ£€æµ‹åˆ°å¾…è§¦å‘çš„å·¡é€»äº‹ä»¶ï¼Œæ—¶é—´: ${t.è§¦å‘æ—¶é—´}`),{triggered:!0,character:r,stage:a,triggerTime:t.è§¦å‘æ—¶é—´||'',patrolLocation:t.å·¡é€»ä½ç½®||''}}catch(e){return console.error('[å·¡é€»äº‹ä»¶] æ£€æµ‹æ—¶å‡ºé”™:',e),{triggered:!1,character:null,stage:1,triggerTime:'',patrolLocation:''}}}();if(e.triggered&&e.character){const{character:n,stage:t,triggerTime:r}=e;h={type:'patrol',character:n,userMessageContent:f(n,t),prefill:y(),triggerTime:r},console.info(`[ä¹ æƒ¯æ³¨å…¥] æ£€æµ‹åˆ°å·¡é€»äº‹ä»¶ï¼Œå°†æ›¿æ¢ç”¨æˆ·æ¶ˆæ¯ (${n}, æ—¶é—´${r})`)}}}return{normal:i,thoughtImplant:u,forcedEvent:h}}function w(e){if(e.type&&e.character)try{const n=Mvu.getMvuData({type:'message',message_id:-1});if(void 0!==e.logIndex&&e.logIndex>=0){const t=_.get(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.å¼ºåˆ¶äº‹ä»¶æ—¥å¿—',[]);t[e.logIndex]&&(t[e.logIndex].å·²é€šçŸ¥AI=!0,console.info(`[ä¹ æƒ¯æ³¨å…¥] å·²æ ‡è®°å¼ºåˆ¶äº‹ä»¶æ—¥å¿—[${e.logIndex}]ä¸ºå·²é€šçŸ¥`))}switch(e.type){case'stageBreakthrough':'ç§¦ç’'===e.character?(_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.ç§¦ç’å¤–è§‚å¾…æ›´æ–°.éœ€è¦æ›´æ–°',!1),_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.ç§¦ç’å¤–è§‚å¾…æ›´æ–°.å˜åŒ–åŸå› ','é˜¶æ®µçªç ´å‰§æƒ…å·²è§¦å‘')):(_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.è‹æ¢¦å¤–è§‚å¾…æ›´æ–°.éœ€è¦æ›´æ–°',!1),_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.è‹æ¢¦å¤–è§‚å¾…æ›´æ–°.å˜åŒ–åŸå› ','é˜¶æ®µçªç ´å‰§æƒ…å·²è§¦å‘')),console.info('[ä¹ æƒ¯æ³¨å…¥] å·²æ ‡è®°é˜¶æ®µçªç ´äº‹ä»¶ä¸ºå·²å¤„ç†');break;case'interruption':_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡æ‰“æ–­äº‹ä»¶.å·²é€šçŸ¥AI',!0),_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡æ‰“æ–­äº‹ä»¶.å¾…è§¦å‘',!1),console.info('[ä¹ æƒ¯æ³¨å…¥] å·²æ ‡è®°æ‰“æ–­äº‹ä»¶ä¸ºå·²å¤„ç†');break;case'patrol':_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡å·¡é€»äº‹ä»¶.å·²é€šçŸ¥AI',!0),_.set(n,'stat_data.ç³»ç»Ÿè¿½è¸ª.è‹æ–‡å·¡é€»äº‹ä»¶.å¾…è§¦å‘',!1),console.info('[ä¹ æƒ¯æ³¨å…¥] å·²æ ‡è®°å·¡é€»äº‹ä»¶ä¸ºå·²å¤„ç†')}Mvu.replaceMvuData(n,{type:'message',message_id:-1})}catch(e){console.error('[ä¹ æƒ¯æ³¨å…¥] æ ‡è®°å¼ºåˆ¶äº‹ä»¶å¤±è´¥:',e)}}eventOn(tavern_events.CHAT_COMPLETION_PROMPT_READY,n=>{try{const{chat:t,dryRun:r}=n;if(r)return void console.info('[ä¹ æƒ¯æ³¨å…¥] dryRun=trueï¼Œè·³è¿‡æ³¨å…¥ï¼ˆä»…è®¡ç®— tokenï¼‰');const{normal:a,thoughtImplant:o,forcedEvent:s}=x(),l=['Now go ahead MW and pass the review.','Now continue the script','[Continue]','Continue'];function c(){for(let e=t.length-1;e>=0;e--)if('user'===t[e].role){const n=t[e].content,r=('string'==typeof n?n:'').trim();if(!l.some(e=>r===e||r.startsWith(e)))return e}return-1}if(0===t.length)return a&&t.push({role:'system',content:a}),o&&t.push({role:'system',content:o}),s.userMessageContent&&(t.push({role:'user',content:s.userMessageContent}),console.info(`[ä¹ æƒ¯æ³¨å…¥] chat ä¸ºç©ºï¼Œæ·»åŠ å¼ºåˆ¶äº‹ä»¶ç”¨æˆ·æ¶ˆæ¯ (${s.type})`),w(s)),void console.info('[ä¹ æƒ¯æ³¨å…¥] chat æ•°ç»„ä¸ºç©ºï¼Œå·²æ·»åŠ æ¶ˆæ¯');if(s.type&&s.userMessageContent&&s.character){let u=-1;for(let m=t.length-1;m>=0;m--)if('user'===t[m].role){u=m;break}if(-1!==u){t[u].content=s.userMessageContent;let d=`[ä¹ æƒ¯æ³¨å…¥] å¼ºåˆ¶äº‹ä»¶è§¦å‘: ${s.type}`;'stageBreakthrough'===s.type?d+=` (${s.character} é˜¶æ®µ${s.stageNumber})`:'interruption'===s.type?d+=` (${s.character}, ç´¯è®¡${s.accumulatedTime}å°æ—¶)`:'patrol'===s.type&&(d+=` (${s.character}, æ—¶é—´${s.triggerTime})`),console.info(d),w(s)}if(s.prefill&&!e)t.push({role:'assistant',content:s.prefill}),console.info(`[ä¹ æƒ¯æ³¨å…¥] å·²æ·»åŠ å¼ºåˆ¶äº‹ä»¶ Prefill: "${s.prefill.substring(0,30)}..."`);else if(s.prefill&&e){const p=`ã€å›å¤æ ¼å¼è¦æ±‚ã€‘è¯·ä»¥ä»¥ä¸‹å†…å®¹ä½œä¸ºå›å¤çš„å¼€å¤´ï¼š\n${s.prefill}`;t.push({role:'system',content:p}),console.info('[ä¹ æƒ¯æ³¨å…¥] æ£€æµ‹åˆ° extended thinking æ¨¡å¼ï¼Œå°† Prefill è½¬æ¢ä¸º system æç¤º')}let g=-1;for(let h=0;h<t.length;h++)if('user'===t[h].role){g=h;break}if(a){const f=-1===g?t.length:g;t.splice(f,0,{role:'system',content:a})}return}let i=-1;for(let y=0;y<t.length;y++)if('user'===t[y].role){i=y;break}if(a){const M=-1===i?t.length:i;t.splice(M,0,{role:'system',content:a}),console.info(`[ä¹ æƒ¯æ³¨å…¥] å·²åœ¨ä½ç½® ${M} æ³¨å…¥çŠ¶æ€ä¸€è‡´æ€§æ£€æŸ¥å’Œä¹ æƒ¯åˆ—è¡¨`)}if(o){const C=c();if(console.info(`[ä¹ æƒ¯æ³¨å…¥] æœ€åä¸€æ¡çœŸæ­£ç”¨æˆ·æ¶ˆæ¯ä½ç½®: ${C}`),-1!==C){const v=C+1;t.splice(v,0,{role:'system',content:o}),console.info(`[ä¹ æƒ¯æ³¨å…¥] å·²åœ¨çœŸæ­£ç”¨æˆ·æ¶ˆæ¯åï¼ˆä½ç½® ${v}ï¼‰æ³¨å…¥å¿µå¤´æ¤å…¥é€šçŸ¥`)}else t.push({role:'system',content:o}),console.info('[ä¹ æƒ¯æ³¨å…¥] æ²¡æœ‰æ‰¾åˆ°çœŸæ­£ç”¨æˆ·æ¶ˆæ¯ï¼Œå·²åœ¨æ•°ç»„æœ«å°¾æ³¨å…¥å¿µå¤´æ¤å…¥é€šçŸ¥')}}catch(k){console.error('[ä¹ æƒ¯æ³¨å…¥] æ³¨å…¥æ—¶å‘ç”Ÿé”™è¯¯:',k)}}),console.info('[ä¹ æƒ¯æ³¨å…¥è„šæœ¬] åŠ è½½å®Œæˆï¼Œäº‹ä»¶ç›‘å¬å·²æ³¨å†Œ')});
//# sourceMappingURL=index.js.map