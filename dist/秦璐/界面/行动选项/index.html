<head><script type="module">var e={502(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}}},t={};const n=Vue,o={key:0,class:'options-container'},r={class:'options-panel'},s=['onClick'],a={class:'option-text'},l=(0,n.defineComponent)({__name:'ActionOptions',setup(e){const t=(0,n.ref)([]),l=(0,n.ref)(-1),i=(0,n.ref)(!1),c=(e,o)=>{if(-1!==l.value||i.value)return;l.value=o;(e=>{if(e&&!['…','...'].includes(e.trim())&&0!==e.trim().length)try{let t=$(parent.document).find('#send_textarea');if(0===t.length&&(t=$('#send_textarea')),0===t.length)return void('function'==typeof triggerSlash&&triggerSlash(`/send ${e}|/trigger`));const n=t.val()||'';if(n.includes(e.trim()))return;const o=n.trim()?'\n':'',r=n+o+e.trim();t.val(r),t.trigger('input'),t.focus()}catch{'function'==typeof triggerSlash&&triggerSlash(`/send ${e}|/trigger`)}})(e.replace(/^\d+\.\s*/,'').trim()),setTimeout(()=>{i.value=!0,t.value=[],(0,n.nextTick)(()=>{window.dispatchEvent(new Event('resize'));const e=window.frameElement;if(e){const t=document.body.scrollHeight;e.style.height=t>0?`${t}px`:'0px'}})},300)},d=()=>{if('function'!=typeof getCurrentMessageId||'function'!=typeof getChatMessages)return;const e=getCurrentMessageId(),n=getChatMessages(e);if(!n||0===n.length)return;const o=n[0];if(!o||!o.message)return;const r=o.message.match(/<options>((?:(?!<options>).)*?)<\/options>/s);if(r&&r[1]){const e=r[1].split('|').map(e=>e.trim()).filter(e=>e&&!['…','...'].includes(e));e.length>0&&(t.value=e)}};return(0,n.onMounted)(()=>{setTimeout(d,300)}),(e,i)=>t.value.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',o,[(0,n.createCommentVNode)(' 背景纹理层 '),i[3]||(i[3]=(0,n.createElementVNode)('div',{class:'bg-pattern'},null,-1)),(0,n.createCommentVNode)(' 主面板 '),(0,n.createElementVNode)('div',r,[(0,n.createCommentVNode)(' 顶部装饰线 '),i[1]||(i[1]=(0,n.createElementVNode)('div',{class:'panel-decor'},null,-1)),(0,n.createCommentVNode)(' 标题 '),i[2]||(i[2]=(0,n.createElementVNode)('div',{class:'options-header'},[(0,n.createElementVNode)('span',{class:'decor-line'}),(0,n.createElementVNode)('span',{class:'title'},'命运抉择'),(0,n.createElementVNode)('span',{class:'decor-line'})],-1)),(0,n.createCommentVNode)(' 选项网格 '),(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['options-grid',{'grid-4col':t.value.length>=6}])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t.value,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:(0,n.normalizeClass)(['option-btn',{sending:l.value===t}]),style:(0,n.normalizeStyle)({animationDelay:.08*t+'s'}),onClick:n=>c(e,t)},[i[0]||(i[0]=(0,n.createElementVNode)('span',{class:'option-icon'},'◇',-1)),(0,n.createElementVNode)('span',a,(0,n.toDisplayString)(e),1)],14,s))),128))],2)])])):(0,n.createCommentVNode)('v-if',!0)}});var i=function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(502);const c=(0,i.A)(l,[['__scopeId','data-v-6b7d1a3a']]);$(()=>{(0,n.createApp)(c).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>.options-container[data-v-6b7d1a3a]{position:relative;width:100%;font-family:"Roboto",sans-serif;color:#e0e0e0;background:#0d0d0d;overflow:hidden}.bg-pattern[data-v-6b7d1a3a]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(ellipse at 30% 0%,rgba(138,28,28,0.1),transparent 50%),radial-gradient(ellipse at 70% 100%,rgba(138,28,28,0.08),transparent 50%),radial-gradient(circle at 50% 50%,rgba(212,175,55,0.03),transparent 60%),repeating-linear-gradient(45deg,transparent,transparent 1px,rgba(255,255,255,0.02) 1px,rgba(255,255,255,0.02) 2px),repeating-linear-gradient(-45deg,transparent,transparent 1px,rgba(255,255,255,0.02) 1px,rgba(255,255,255,0.02) 2px);z-index:0}.options-panel[data-v-6b7d1a3a]{position:relative;z-index:1;padding:16px 20px;background:rgba(18,18,18,.98);border:1px solid rgba(212,175,55,.15);border-bottom:1px dashed rgba(212,175,55,.1);backdrop-filter:blur(5px)}.panel-decor[data-v-6b7d1a3a]{position:absolute;top:6px;left:15px;right:15px;height:1px;background:linear-gradient(90deg,transparent,#d4af37,transparent);opacity:.3}.options-header[data-v-6b7d1a3a]{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:14px}.options-header .title[data-v-6b7d1a3a]{color:#d4af37;font-size:12px;font-family:"Noto Serif SC","Songti SC","STSong",serif;letter-spacing:3px;text-shadow:0 0 8px rgba(212,175,55,.3)}.options-header .decor-line[data-v-6b7d1a3a]{height:1px;width:50px;background:linear-gradient(90deg,transparent,#8a7326,transparent);opacity:.6}.options-grid[data-v-6b7d1a3a]{display:grid;grid-template-columns:1fr;gap:8px}@media (min-width:400px){.options-grid[data-v-6b7d1a3a]{grid-template-columns:1fr 1fr;gap:6px}}@media (min-width:700px){.options-grid.grid-4col[data-v-6b7d1a3a]{grid-template-columns:repeat(4,1fr);gap:6px}}.option-btn[data-v-6b7d1a3a]{position:relative;display:flex;align-items:center;gap:8px;padding:10px 12px;background:rgba(0,0,0,.3);border:1px solid rgba(212,175,55,.12);border-left:2px solid #8a7326;cursor:pointer;transition:all .3s cubic-bezier(0.25,0.8,0.25,1);animation:fadeSlideIn-6b7d1a3a .5s ease forwards;opacity:0}.grid-4col .option-btn[data-v-6b7d1a3a]{padding:8px 10px;gap:6px}.option-btn[data-v-6b7d1a3a]:hover{background:rgba(212,175,55,.08);border-color:rgba(212,175,55,.4);border-left-color:#d4af37;transform:translateX(3px);box-shadow:0 0 15px rgba(212,175,55,.1),inset 0 0 20px rgba(212,175,55,.03)}.option-btn:hover .option-icon[data-v-6b7d1a3a]{color:#d4af37;text-shadow:0 0 8px #d4af37}.option-btn:hover .option-text[data-v-6b7d1a3a]{color:#fff}.option-btn.sending[data-v-6b7d1a3a]{background:rgba(138,28,28,.4);border-color:#8a1c1c;border-left-color:#ff4500}.option-btn.sending .option-icon[data-v-6b7d1a3a]{color:#ff6b6b}.option-btn.sending .option-text[data-v-6b7d1a3a]{color:#fcc}.option-icon[data-v-6b7d1a3a]{font-size:10px;color:#8a7326;transition:all .3s}.option-text[data-v-6b7d1a3a]{flex:1;font-size:13px;color:#e0e0e0;font-family:"Noto Serif SC","Songti SC","STSong",serif;transition:color .3s;line-height:1.4}.grid-4col .option-text[data-v-6b7d1a3a]{font-size:12px}@keyframes fadeSlideIn-6b7d1a3a{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>